(function(f){var e=/^-?\d+$/;function a(g){var h=g.css("position");return h=="absolute"||h=="relative"||h=="fixed"}function d(g){var h=g.css("z-index");return typeof h=="number"||(h&&h.match(e))}function b(g){return(a(g)&&d(g))||g.is("body")}function c(h,g){return g.toArray().every(function(i){return f.contains(h,i)})}jQuery.fn.effectiveZIndex=function(h){var g;if(h&&h.context){g=f(h.context)}else{if(h&&h.relativeTo){g=this.stackingContexts(h)}else{g=f("body")}}var i=[],j=this;while(j.length>0){if(j[0]!==g[0]){i.push(j)}else{break}j=j.parent()}return i.reduce(function(m,l){var k=f(l);if(b(k)){return parseInt(k.css("z-index"),10)}else{return m}},0)};jQuery.fn.stackingContexts=function(g){var h=(g&&g.relativeTo)?f(g.relativeTo):this;var j=this;var i=this.parents().filter(function(){var l=f(this),k=c(this,j)&&c(this,h);return k&&b(l)});return i};jQuery.fn.stackingContext=function(g){return this.stackingContexts(g).filter(":first")}})(jQuery);
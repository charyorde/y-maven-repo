(function(d){var a=function(f){return f!==undefined&&f!==null},c=d("head"),e={},b={callback:"C",url:location.href};d.jsonp=function(O){O=d.extend({},b,O);if(a(O.beforeSend)){var z=0;O.abort=function(){z=1};if(O.beforeSend(O,O)===false||z){return O}}var Q="",o="success",I="error",v=a(O.url)?O.url:Q,H=a(O.data)?O.data:Q,B=(typeof H)=="string",J=function(i){setTimeout(i,1)},l,m,L,K,h;H=B?H:d.param(H);a(O.callbackParameter)&&(H+=(H==Q?Q:"&")+escape(O.callbackParameter)+"=?");!O.cache&&!O.pageCache&&(H+=[(H==Q?Q:"&"),"_xx",(new Date()).getTime(),"=",1].join(Q));l=v.split("?");if(H!=Q){m=H.split("?");K=l.length-1;K&&(l[K]+="&"+m.shift());l=l.concat(m)}L=l.length-2;L&&(l[L]+=O.callback+l.pop());h=l.join("?");if(O.pageCache&&a(e[h])){J(function(){if(a(e[h].e)){a(O.error)&&O.error(O,I);a(O.complete)&&O.complete(O,I)}else{var f=e[h].s;a(O.dataFilter)&&(f=O.dataFilter(f));a(O.success)&&O.success(f,o);a(O.complete)&&O.complete(O,o)}});return O}var M=d("<iframe />");c.append(M);var r=M[0],g=r.contentWindow||r.contentDocument,A=g.document;if(!a(A)){A=g;g=A.getParentNode()}var q,N=function(i,f){O.pageCache&&!a(f)&&(e[h]={e:1});q();f=a(f)?f:I;a(O.error)&&O.error(O,f);a(O.complete)&&O.complete(O,f)},z=0,G=O.callback,x=G=="E"?"X":"E";A.open();g[G]=function(f){z=1;O.pageCache&&(e[h]={s:f});J(function(){q();a(O.dataFilter)&&(f=O.dataFilter(f));a(O.success)&&O.success(f,o);a(O.complete)&&O.complete(O,o)})};g[x]=function(f){(!f||f=="complete")&&!z++&&J(N)};q=function(){g[x]=undefined;g[G]=undefined;try{delete g[x]}catch(f){}try{delete g[G]}catch(f){}A.open();A.write(f);A.close();M.remove()};J(function(){A.write(['<html><head><script src="',h,'" onload="',x,'()" onreadystatechange="',x,'(this.readyState)"><\/script></head><body onload="',x,'()"></body></html>'].join(Q));A.close()});O.timeout>0&&setTimeout(function(){!z&&N(Q,"timeout")},O.timeout);O.abort=q;return O};d.jsonp.setup=function(f){d.extend(b,f)}})(jQuery);
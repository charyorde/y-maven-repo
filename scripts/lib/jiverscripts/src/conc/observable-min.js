jive=this.jive||{};jive.conc=jive.conc||{};jive.conc.observable=function(a){var b=false;a.listeners=function(d){if(!this._events){this._events={}}if(!this._events[d]){this._events[d]=[]}return this._events[d]};a.addListener=function(d,e){b=true;this.emit("newListener",d,e);b=false;this.listeners(d).push(e);return this};a.removeListener=function(f,g){var e=this.listeners(f);for(var d=0;d<e.length;d+=1){if(e[d]===g||typeof g=="undefined"){e.splice(d,1);d-=1}}return this};var c=jive.conc.nextTick||function(d){setTimeout(d,0)};a.emit=function(g){var j=Array.prototype.slice.call(arguments,1),e=this.listeners(g).slice(),f=this;function h(i){c(function(){i.apply(f,j)})}for(var d=0;d<e.length;d+=1){h(e[d])}if(!b){c(function(){var n=f.listeners(g),m;for(var l=0;l<n.length;l+=1){m=false;for(var k=0;k<e.length;k+=1){if(n[l]===e[k]){m=true}}if(!m){h(n[l])}}})}return this};a.emitP=function(e){var d=Array.prototype.slice.call(arguments),f=new jive.conc.Promise();this.emit.apply(this,d.concat(f));return f};a.proxyListener=function(h,e,g,f){var d=this;if(typeof g=="function"){f=g;g=null}g=g||e;if(f){h.addListener(e,f)}h.addListener(e,function(){var i=Array.prototype.slice.call(arguments);i.unshift(g);d.emit.apply(d,i)});return this};return a};
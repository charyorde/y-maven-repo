jive=this.jive||{};jive.conc=jive.conc||{};jive.conc.synchronize=(function(){function a(c){return Object.prototype.toString.call(c)==="[object Array]"}function b(c){return c&&c.addCallback&&c.addErrback&&c.addCancelback}return function(g){var f,d,c=0,h=new jive.conc.Promise();function e(i,j){j.addCallback(function(k){f[i]=k;c-=1;if(c<1){h.emitSuccess(f)}}).addErrback(function(){h.emitError.apply(h,arguments)}).addCancelback(function(){h.cancel.apply(h,arguments)});c+=1}f=a(g)?[]:{};for(d in g){if(g.hasOwnProperty(d)){if(b(g[d])){e(d,g[d])}else{f[d]=g[d]}}}return h}})();
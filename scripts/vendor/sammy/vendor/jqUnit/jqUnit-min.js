var jqUnit=jqUnit||{};(function(f){var h={fixture:null,Test:[],stats:{all:0,bad:0},queue:[],blocking:true,timeout:null,expected:null,currentModule:null,asyncTimeout:2};var w=!!(window.location.protocol=="file:");f(function(){f("#userAgent").html(navigator.userAgent);k()});function j(q){h.queue[h.queue.length]=q;if(!h.blocking){n()}}function n(){while(h.queue.length&&!h.blocking){var q=h.queue[0];h.queue=h.queue.slice(1);q()}}function r(q){h.blocking=true;var t=q?g:function(){l(false,"Test timed out");g()}}function g(){setTimeout(function(){if(h.timeout){clearTimeout(h.timeout)}h.blocking=false;n()},13)}function k(){h.blocking=false;var q=new Date();h.fixture=document.getElementById("main").innerHTML;j(function(){q=new Date()-q;f("<div>").html(['<p class="result">Tests completed in ',q," milliseconds.<br/>",h.stats.bad," tests of ",h.stats.all," failed.</p>"].join("")).appendTo("body");f("#banner").addClass(h.stats.bad?"fail":"pass")})}function x(q,A,z){if(h.currentModule){q=h.currentModule+" : "+q}var t=location.search.slice(1);if(t&&encodeURIComponent(q).indexOf(t)==-1){return}j(function(){h.Test=[];try{A.apply(jqUnit)}catch(B){if(typeof console!="undefined"&&console.error&&console.warn){console.error("Test "+q+" died, exception and test follows");console.error(B);console.warn(A.toString())}h.Test.push([false,"Died on test #"+(h.Test.length+1)+": "+B])}});j(function(){y();if(z){return}if(h.expected&&h.expected!=h.Test.length){h.Test.push([false,"Expected "+h.expected+" assertions, but "+h.Test.length+" were run"])}h.expected=null;var F=0,H=0;var D=document.createElement("ol");D.style.display="none";var C="",G="pass";for(var E=0;E<h.Test.length;E++){var C=document.createElement("li");C.className=h.Test[E][0]?"pass":"fail";C.innerHTML=h.Test[E][1];D.appendChild(C);h.stats.all++;if(!h.Test[E][0]){G="fail";H++;h.stats.bad++}else{F++}}var C=document.createElement("li");C.className=G;var B=document.createElement("strong");B.innerHTML=q+" <b style='color:black;'>(<b class='fail'>"+H+"</b>, <b class='pass'>"+F+"</b>, "+h.Test.length+")</b>";B.onclick=function(){var I=this.nextSibling;if(jQuery.css(I,"display")=="none"){I.style.display="block"}else{I.style.display="none"}};f(B).dblclick(function(I){var J=jQuery(I.target).filter("strong").clone();if(J.length){J.children().remove();location.href=location.href.match(/^(.+?)(\?.*)?$/)[1]+"?"+encodeURIComponent(f.trim(J.text()))}});C.appendChild(B);C.appendChild(D);document.getElementById("tests").appendChild(C)})}function a(q){h.currentModule=q}function c(q){h.expected=q}function y(){f("#main").html(h.fixture)}function l(q,t){h.Test.push([!!q,t])}function u(t,q,B){var z=true;if(t&&q&&t.length!=undefined&&t.length==q.length){for(var A=0;A<t.length;A++){if(t[A]!=q[A]){z=false}}}else{z=false}if(!z){h.Test.push([z,B+" expected: "+d(q)+" result: "+d(t)])}else{h.Test.push([z,B])}}function s(t,q,B){var z=true;if(t&&q){for(var A in t){if(t[A]!=q[A]){z=false}}for(A in q){if(t[A]!=q[A]){z=false}}}else{z=false}h.Test.push([z,B])}function d(q){var z=[];if(q&&q.length){for(var t=0;t<q.length;t++){var A=q[t].nodeName;if(A){A=A.toLowerCase();if(q[t].id){A+="#"+q[t].id}}else{A=q[t]}z.push(A)}}return"[ "+z.join(", ")+" ]"}function o(){var t=[];for(var q=0;q<arguments.length;q++){t.push(document.getElementById(arguments[q]))}return t}function m(t,q,C){var B=jQuery(q);var A="";for(var z=0;z<B.length;z++){A+=(A&&",")+'"'+B[z].id+'"'}u(B,o.apply(o,C),t+" ("+q+")")}function e(q){return q+(/\?/.test(q)?"&":"?")+new Date().getTime()+""+parseInt(Math.random()*100000)}function i(A,z,t){var q=z==A;t=t||(q?"okay":"failed");h.Test.push([q,q?t+": "+z:t+" expected: "+z+" actual: "+A])}function b(z,q,t){if(jQuery.browser.mozilla||jQuery.browser.opera){t=document.createEvent("MouseEvents");t.initMouseEvent(q,true,true,z.ownerDocument.defaultView,0,0,0,0,0,false,false,false,false,0,null);z.dispatchEvent(t)}else{if(jQuery.browser.msie){z.fireEvent("on"+q)}}}f.extend(jqUnit,{start:g,stop:r,test:x,module:a,expect:c,rest:y,ok:l,isSet:u,isObj:s,serialArray:d,q:o,t:m,url:e,equals:i,triggerEvent:b});var p={assertEquals:function(t,q,z){jqUnit.equals(z,q,t)},assertTrue:function(t,q){jqUnit.ok(q,t)},assertFalse:function(t,q){jqUnit.ok(!q,t)},assertUndefined:function(t,q){jqUnit.equals((typeof q),"undefined",t)},assertNotUndefined:function(t,q){jqUnit.ok(!(typeof q==="undefined"),t)},assertNull:function(t,q){jqUnit.equals(q,null,t)},assertNotNull:function(t,q){jqUnit.ok(!(q===null),t)}};f.extend(jqUnit,p);function v(t,z,q){this.moduleName=t;this.setUp=z||null;this.tearDown=q||null;jqUnit.module(this.moduleName)}f.extend(v.prototype,jqUnit);v.prototype.test=function(q,z){var t=this;jqUnit.test(q,function(){if(t.setUp){t.setUp()}z.apply(t);if(t.tearDown){t.tearDown()}})};f.extend(jqUnit,{TestCase:v})})(jQuery);
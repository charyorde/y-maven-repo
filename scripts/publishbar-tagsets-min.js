function PublishBarTagSetSupport(a,c){var b=this;this.tagInput=$j(a);this.tagSets=[];this.suggestCategories=function(){if(this.tagSets.length>0){var d=this.tagInput.val().toLowerCase().split(/\s+/);$j(this.tagSets).each(function(){var e=this;var f=e.tags;var g=true;$j(d).each(function(h,i){if($j.trim(i)!=""){if($j.inArray(i,f)!=-1){g=false;return false}}});if(g){b.undoHighlight($j("#j-category_"+e.id))}else{b.doHighlight($j("#j-category_"+e.id))}})}};this.doHighlight=function(d){$j(d).closest("span").find("img").show();$j(d).closest("span").addClass("jive-category-highlight")};this.undoHighlight=function(d){$j(d).closest("span").removeClass("jive-category-highlight");$j(d).closest("span").find("label").find("img").hide()};this.showToolTip=function(d){var e=$j(d).closest("span").find("input");$j("#jive-note-category-tags").html(e.attr("data-tags"));$j("#jiveTT-note-suggest").show();return false};this.hideToolTip=function(){$j("#jiveTT-note-suggest").hide();$j("#jive-note-category-tags").html("");return false};this.updateTagSets=function(){var d=[];$j("#jive-compose-categories").find(".j-category-input").each(function(){var e=$j(this);if(e.prop("checked")){d.push(e.val())}});$j("#j-publishbar-categories").val(d.join(","))};$j("#jive-compose-categories").find(".j-category-input").each(function(){b.tagSets.push({id:$j(this).val(),tags:$j(this).attr("data-tags").split(",")})});$j("#jive-compose-categories").find(".j-category-input").click(function(){b.updateTagSets()});$j("#js-publishbar-tagsets .jiveTT-hover-suggest").mouseover(function(){b.showToolTip($j(this))}).mouseout(function(){b.hideToolTip()});this.suggestCategories();this.updateTagSets()};
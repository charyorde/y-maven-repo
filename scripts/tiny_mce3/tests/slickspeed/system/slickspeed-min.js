function forEach(d,c,e){for(var b=0,a=d.length;b<a;b++){c.call(e,d[b],b,d)}}window.onload=function(){var b={};forEach(document.getElementsByTagName("iframe"),function(r){b[r.name]={test:window.frames[r.name].test,selectors:[]}});var h=document.getElementById("tbody");var m=document.getElementById("tfoot");var q=m.getElementsByTagName("tr")[0];var o=document.getElementById("controls");var p=o.getElementsByTagName("a");var d=p[1];var k=p[0];d.onclick=function(){j();return false};k.onclick=function(){clearTimeout(c);c=null;return false};var f=[];var g={};var n=0;for(var a in b){var l=b[a];forEach(window.selectors,function(r){l.selectors.push(r)});g[a]=q.getElementsByTagName("td")[n];f[a]=0;n++}var e=[];forEach(window.selectors,function(s,v){var x=0;var w=h.getElementsByTagName("tr")[v];for(var u in b){var t=b[u];var r=w.getElementsByTagName("td")[x];e.push({execute:t.test,selector:t.selectors[v],name:u,row:w,cell:r});x++}});var c=null;var j=function(){var s=e.shift();if(!s){return}var r=s.execute(s.selector);s.cell.className="test";s.cell.innerHTML=r.time+" ms | "+r.found+" found";s.cell.speed=r.time;if(r.error){s.cell.innerHTML=r.time+' ms | <span class="exception" title="'+r.error+'">error returned</a>';s.cell.className+=" exception";s.cell.found=0;s.cell.error=true}else{s.cell.found=r.found;s.cell.error=false}f[s.name]+=s.cell.speed;g[s.name].innerHTML="&nbsp;"+f[s.name]+"&nbsp;";if(s.cell==s.row.lastChild){i(s.row)}c=setTimeout(j,250)};var i=function(y){var u=[];var w=y.getElementsByTagName("td");forEach(w,function(z){u.push(z)});var s=[];forEach(u,function(z,A){if(!z.error){s[A]=z.speed}else{s[A]=1e+23}});var v=Math.min.apply(this,s);var r=Math.max.apply(this,s);var x=[];var t=false;forEach(u,function(z,A){x.push(z.found);if(!t){forEach(x,function(B){if(!z.error&&z.found!=undefined&&B&&z.found!=B){t=true;return}})}if(z.speed==v){z.className+=" good"}else{if(z.speed==r){z.className+=" bad"}else{z.className+=" normal"}}});if(t){forEach(u,function(z,A){if(z.found!=undefined){z.className+=" mismatch"}})}}};
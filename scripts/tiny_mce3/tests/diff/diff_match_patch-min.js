(function(){function b(){function c(){for(var e=0,g=1,f=2;g!=f;){e++;g=f;f<<=1}return e}this.Diff_Timeout=1;this.Diff_EditCost=4;this.Match_Threshold=0.5;this.Match_Distance=1000;this.Patch_DeleteThreshold=0.5;this.Patch_Margin=4;this.Match_MaxBits=c()}b.prototype.diff_main=function(i,g,n,m){if(typeof m=="undefined"){m=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+this.Diff_Timeout*1000}m=m;if(i==null||g==null){throw Error("Null input. (diff_main)")}if(i==g){if(i){return[[0,i]]}return[]}if(typeof n=="undefined"){n=true}var l=n,k=this.diff_commonPrefix(i,g);n=i.substring(0,k);i=i.substring(k);g=g.substring(k);k=this.diff_commonSuffix(i,g);var j=i.substring(i.length-k);i=i.substring(0,i.length-k);g=g.substring(0,g.length-k);i=this.diff_compute(i,g,l,m);n&&i.unshift([0,n]);j&&i.push([0,j]);this.diff_cleanupMerge(i);return i};b.prototype.diff_compute=function(j,i,p,o){var n;if(!j){return[[1,i]]}if(!i){return[[-1,j]]}n=j.length>i.length?j:i;var m=j.length>i.length?i:j,k=n.indexOf(m);if(k!=-1){n=[[1,n.substring(0,k)],[0,m],[1,n.substring(k+m.length)]];if(j.length>i.length){n[0][0]=n[2][0]=-1}return n}if(m.length==1){return[[-1,j],[1,i]]}if(n=this.diff_halfMatch(j,i)){var l=n[0];j=n[1];m=n[2];i=n[3];n=n[4];l=this.diff_main(l,m,p,o);o=this.diff_main(j,i,p,o);return l.concat([[0,n]],o)}if(p&&(j.length<100||i.length<100)){p=false}if(p){l=this.diff_linesToChars(j,i);j=l[0];i=l[1];l=l[2]}n=this.diff_bisect(j,i,o);if(p){this.diff_charsToLines(n,l);this.diff_cleanupSemantic(n);n.push([0,""]);i=j=p=0;for(m=l="";p<n.length;){switch(n[p][0]){case 1:i++;m+=n[p][1];break;case -1:j++;l+=n[p][1];break;case 0:if(j>=1&&i>=1){l=this.diff_main(l,m,false,o);n.splice(p-j-i,j+i);p=p-j-i;for(j=l.length-1;j>=0;j--){n.splice(p,0,l[j])}p+=l.length}j=i=0;m=l=""}p++}n.pop()}return n};b.prototype.diff_bisect=function(F,E,D){for(var C=F.length,B=E.length,A=Math.ceil((C+B)/2),y={1:0},z={1:0},w=C-B,x=w%2!=0,v=0;v<A;v++){if((new Date).getTime()>D){break}for(var u=-v;u<=v;u+=2){var s;s=u==-v||u!=v&&y[u-1]<y[u+1]?y[u+1]:y[u-1]+1;for(var r=s-u;s<C&&r<B&&F.charAt(s)==E.charAt(r);){s++;r++}y[u]=s;if(x){var t=w-u;if(z[t]!==undefined){var q=C-z[t];if(s>=q){C=this.diff_main(F.substring(0,s),E.substring(0,r),false,D);return C.concat(this.diff_main(F.substring(s),E.substring(r),false,D))}}}}for(t=-v;t<=v;t+=2){q=t==-v||t!=v&&z[t-1]<z[t+1]?z[t+1]:z[t-1]+1;for(s=q-t;q<C&&s<B&&F.charAt(C-q-1)==E.charAt(B-s-1);){q++;s++}z[t]=q;if(!x){u=w-t;if(y[u]!==undefined){s=y[u];r=s-u;q=C-q;if(s>=q){C=this.diff_main(F.substring(0,s),E.substring(0,r),false,D);return C.concat(this.diff_main(F.substring(s),E.substring(r),false,D))}}}}}return[[-1,F],[1,E]]};b.prototype.diff_linesToChars=function(i,g){function n(h){for(var e="",f=0,d=-1,c=m.length;d<h.length-1;){d=h.indexOf("\n",f);if(d==-1){d=h.length-1}var o=h.substring(f,d+1);f=d+1;if(l.hasOwnProperty?l.hasOwnProperty(o):l[o]!==undefined){e+=String.fromCharCode(l[o])}else{e+=String.fromCharCode(c);l[o]=c;m[c++]=o}}return e}var m=[],l={};m[0]="";var k=n(i),j=n(g);return[k,j,m]};b.prototype.diff_charsToLines=function(h,g){for(var l=0;l<h.length;l++){for(var k=h[l][1],j=[],i=0;i<k.length;i++){j[i]=g[k.charCodeAt(i)]}h[l][1]=j.join("")}};b.prototype.diff_commonPrefix=function(h,g){if(!h||!g||h.charAt(0)!=g.charAt(0)){return 0}for(var l=0,k=Math.min(h.length,g.length),j=k,i=0;l<j;){if(h.substring(i,j)==g.substring(i,j)){i=l=j}else{k=j}j=Math.floor((k-l)/2+l)}return j};b.prototype.diff_commonSuffix=function(h,g){if(!h||!g||h.charAt(h.length-1)!=g.charAt(g.length-1)){return 0}for(var l=0,k=Math.min(h.length,g.length),j=k,i=0;l<j;){if(h.substring(h.length-j,h.length-i)==g.substring(g.length-j,g.length-i)){i=l=j}else{k=j}j=Math.floor((k-l)/2+l)}return j};b.prototype.diff_commonOverlap=function(h,g){var l=h.length,k=g.length;if(l==0||k==0){return 0}if(l>k){h=h.substring(l-k)}else{if(l<k){g=g.substring(0,l)}}l=Math.min(l,k);if(h==g){return l}k=0;for(var j=1;;){var i=h.substring(l-j);i=g.indexOf(i);if(i==-1){return k}j+=i;if(i==0||h.substring(l-j)==g.substring(0,j)){k=j;j++}}};b.prototype.diff_halfMatch=function(r,q){function p(w,v,j){for(var g=w.substring(j,j+Math.floor(w.length/4)),f=-1,h="",e,d,z,c;(f=v.indexOf(g,f+1))!=-1;){var y=m.diff_commonPrefix(w.substring(j),v.substring(f)),x=m.diff_commonSuffix(w.substring(0,j),v.substring(0,f));if(h.length<x+y){h=v.substring(f-x,f)+v.substring(f,f+y);e=w.substring(0,j-x);d=w.substring(j+y);z=v.substring(0,f-x);c=v.substring(f+y)}}return h.length*2>=w.length?[e,d,z,c,h]:null}var o=r.length>q.length?r:q,n=r.length>q.length?q:r;if(o.length<4||n.length*2<o.length){return null}var m=this,k=p(o,n,Math.ceil(o.length/4));o=p(o,n,Math.ceil(o.length/2));var l;if(!k&&!o){return null}else{l=o?k?k[4].length>o[4].length?k:o:o:k}var i;if(r.length>q.length){k=l[0];o=l[1];n=l[2];i=l[3]}else{n=l[0];i=l[1];k=l[2];o=l[3]}l=l[4];return[k,o,n,i,l]};b.prototype.diff_cleanupSemantic=function(t){for(var s=false,r=[],q=0,p=null,o=0,m=0,n=0,k=0,l=0;o<t.length;){if(t[o][0]==0){r[q++]=o;m=k;n=l;l=k=0;p=t[o][1]}else{if(t[o][0]==1){k+=t[o][1].length}else{l+=t[o][1].length}if(p!==null&&p.length<=Math.max(m,n)&&p.length<=Math.max(k,l)){t.splice(r[q-1],0,[-1,p]);t[r[q-1]+1][0]=1;q--;q--;o=q>0?r[q-1]:-1;l=k=n=m=0;p=null;s=true}}o++}s&&this.diff_cleanupMerge(t);this.diff_cleanupSemanticLossless(t);for(o=1;o<t.length;){if(t[o-1][0]==-1&&t[o][0]==1){s=t[o-1][1];r=t[o][1];if(q=this.diff_commonOverlap(s,r)){t.splice(o,0,[0,r.substring(0,q)]);t[o-1][1]=s.substring(0,s.length-q);t[o+1][1]=r.substring(q);o++}o++}o++}};b.prototype.diff_cleanupSemanticLossless=function(F){function E(e,c){if(!e||!c){return 5}var d=0;if(e.charAt(e.length-1).match(D)||c.charAt(0).match(D)){d++;if(e.charAt(e.length-1).match(C)||c.charAt(0).match(C)){d++;if(e.charAt(e.length-1).match(B)||c.charAt(0).match(B)){d++;if(e.match(A)||c.match(y)){d++}}}}return d}for(var D=/[^a-zA-Z0-9]/,C=/\s/,B=/[\r\n]/,A=/\n\r?\n$/,y=/^\r?\n\r?\n/,z=1;z<F.length-1;){if(F[z-1][0]==0&&F[z+1][0]==0){var w=F[z-1][1],x=F[z][1],v=F[z+1][1],u=this.diff_commonSuffix(w,x);if(u){var s=x.substring(x.length-u);w=w.substring(0,w.length-u);x=s+x.substring(0,x.length-u);v=s+v}u=w;s=x;for(var r=v,t=E(w,x)+E(x,v);x.charAt(0)===v.charAt(0);){w+=x.charAt(0);x=x.substring(1)+v.charAt(0);v=v.substring(1);var q=E(w,x)+E(x,v);if(q>=t){t=q;u=w;s=x;r=v}}if(F[z-1][1]!=u){if(u){F[z-1][1]=u}else{F.splice(z-1,1);z--}F[z][1]=s;if(r){F[z+1][1]=r}else{F.splice(z+1,1);z--}}}z++}};b.prototype.diff_cleanupEfficiency=function(t){for(var s=false,r=[],q=0,p="",o=0,m=false,n=false,k=false,l=false;o<t.length;){if(t[o][0]==0){if(t[o][1].length<this.Diff_EditCost&&(k||l)){r[q++]=o;m=k;n=l;p=t[o][1]}else{q=0;p=""}k=l=false}else{if(t[o][0]==-1){l=true}else{k=true}if(p&&(m&&n&&k&&l||p.length<this.Diff_EditCost/2&&m+n+k+l==3)){t.splice(r[q-1],0,[-1,p]);t[r[q-1]+1][0]=1;q--;p="";if(m&&n){k=l=true;q=0}else{q--;o=q>0?r[q-1]:-1;k=l=false}s=true}}o++}s&&this.diff_cleanupMerge(t)};b.prototype.diff_cleanupMerge=function(i){i.push([0,""]);for(var g=0,n=0,m=0,l="",k="",j;g<i.length;){switch(i[g][0]){case 1:m++;k+=i[g][1];g++;break;case -1:n++;l+=i[g][1];g++;break;case 0:if(n+m>1){if(n!==0&&m!==0){j=this.diff_commonPrefix(k,l);if(j!==0){if(g-n-m>0&&i[g-n-m-1][0]==0){i[g-n-m-1][1]+=k.substring(0,j)}else{i.splice(0,0,[0,k.substring(0,j)]);g++}k=k.substring(j);l=l.substring(j)}j=this.diff_commonSuffix(k,l);if(j!==0){i[g][1]=k.substring(k.length-j)+i[g][1];k=k.substring(0,k.length-j);l=l.substring(0,l.length-j)}}if(n===0){i.splice(g-n-m,n+m,[1,k])}else{m===0?i.splice(g-n-m,n+m,[-1,l]):i.splice(g-n-m,n+m,[-1,l],[1,k])}g=g-n-m+(n?1:0)+(m?1:0)+1}else{if(g!==0&&i[g-1][0]==0){i[g-1][1]+=i[g][1];i.splice(g,1)}else{g++}}n=m=0;k=l=""}}i[i.length-1][1]===""&&i.pop();n=false;for(g=1;g<i.length-1;){if(i[g-1][0]==0&&i[g+1][0]==0){if(i[g][1].substring(i[g][1].length-i[g-1][1].length)==i[g-1][1]){i[g][1]=i[g-1][1]+i[g][1].substring(0,i[g][1].length-i[g-1][1].length);i[g+1][1]=i[g-1][1]+i[g+1][1];i.splice(g-1,1);n=true}else{if(i[g][1].substring(0,i[g+1][1].length)==i[g+1][1]){i[g-1][1]+=i[g+1][1];i[g][1]=i[g][1].substring(i[g+1][1].length)+i[g+1][1];i.splice(g+1,1);n=true}}}g++}n&&this.diff_cleanupMerge(i)};b.prototype.diff_xIndex=function(i,g){var n=0,m=0,l=0,k=0,j;for(j=0;j<i.length;j++){if(i[j][0]!==1){n+=i[j][1].length}if(i[j][0]!==-1){m+=i[j][1].length}if(n>g){break}l=n;k=m}if(i.length!=j&&i[j][0]===-1){return k}return k+(g-l)};b.prototype.diff_prettyHtml=function(v){for(var u=[],t=0,s=/&/g,r=/</g,q=/>/g,o=/\n/g,p=0;p<v.length;p++){var m=v[p][0],n=v[p][1],l=n.replace(s,"&amp;").replace(r,"&lt;").replace(q,"&gt;").replace(o,"&para;<br>");switch(m){case 1:u[p]='<ins style="background:#E6FFE6;">'+l+"</ins>";break;case -1:u[p]='<del style="background:#FFE6E6;">'+l+"</del>";break;case 0:u[p]="<span>"+l+"</span>"}if(m!==-1){t+=n.length}}return u.join("")};b.prototype.diff_text1=function(e){for(var d=[],f=0;f<e.length;f++){if(e[f][0]!==1){d[f]=e[f][1]}}return d.join("")};b.prototype.diff_text2=function(e){for(var d=[],f=0;f<e.length;f++){if(e[f][0]!==-1){d[f]=e[f][1]}}return d.join("")};b.prototype.diff_levenshtein=function(i){for(var g=0,n=0,m=0,l=0;l<i.length;l++){var k=i[l][0],j=i[l][1];switch(k){case 1:n+=j.length;break;case -1:m+=j.length;break;case 0:g+=Math.max(n,m);m=n=0}}g+=Math.max(n,m);return g};b.prototype.diff_toDelta=function(e){for(var d=[],f=0;f<e.length;f++){switch(e[f][0]){case 1:d[f]="+"+encodeURI(e[f][1]);break;case -1:d[f]="-"+e[f][1].length;break;case 0:d[f]="="+e[f][1].length}}return d.join("\t").replace(/%20/g," ")};b.prototype.diff_fromDelta=function(t,s){for(var r=[],q=0,p=0,o=s.split(/\t/g),m=0;m<o.length;m++){var n=o[m].substring(1);switch(o[m].charAt(0)){case"+":try{r[q++]=[1,decodeURI(n)]}catch(k){throw Error("Illegal escape in diff_fromDelta: "+n)}break;case"-":case"=":var l=parseInt(n,10);if(isNaN(l)||l<0){throw Error("Invalid number in diff_fromDelta: "+n)}n=t.substring(p,p+=l);if(o[m].charAt(0)=="="){r[q++]=[0,n]}else{r[q++]=[-1,n]}break;default:if(o[m]){throw Error("Invalid diff operation in diff_fromDelta: "+o[m])}}}if(p!=t.length){throw Error("Delta length ("+p+") does not equal source text length ("+t.length+").")}return r};b.prototype.match_main=function(e,d,f){if(e==null||d==null||f==null){throw Error("Null input. (match_main)")}f=Math.max(0,Math.min(f,e.length));return e==d?0:e.length?e.substring(f,f+d.length)==d?f:this.match_bitap(e,d,f):-1};b.prototype.match_bitap=function(F,E,D){function C(f,d){var e=f/E.length,c=Math.abs(D-d);if(!A.Match_Distance){return c?1:e}return e+c/A.Match_Distance}if(E.length>this.Match_MaxBits){throw Error("Pattern too long for this browser.")}var B=this.match_alphabet(E),A=this,y=this.Match_Threshold,z=F.indexOf(E,D);if(z!=-1){y=Math.min(C(0,z),y);z=F.lastIndexOf(E,D+E.length);if(z!=-1){y=Math.min(C(0,z),y)}}var w=1<<E.length-1;z=-1;for(var x,v,u=E.length+F.length,s,r=0;r<E.length;r++){x=0;for(v=u;x<v;){if(C(r,D+v)<=y){x=v}else{u=v}v=Math.floor((u-x)/2+x)}u=v;x=Math.max(1,D-v+1);var t=Math.min(D+v,F.length)+E.length;v=Array(t+2);v[t+1]=(1<<r)-1;for(t=t;t>=x;t--){var q=B[F.charAt(t-1)];v[t]=r===0?(v[t+1]<<1|1)&q:(v[t+1]<<1|1)&q|(s[t+1]|s[t])<<1|1|s[t+1];if(v[t]&w){q=C(r,t-1);if(q<=y){y=q;z=t-1;if(z>D){x=Math.max(1,2*D-z)}else{break}}}}if(C(r+1,D)>y){break}s=v}return z};b.prototype.match_alphabet=function(e){for(var d={},f=0;f<e.length;f++){d[e.charAt(f)]=0}for(f=0;f<e.length;f++){d[e.charAt(f)]|=1<<e.length-f-1}return d};b.prototype.patch_addContext=function(f,e){if(e.length!=0){for(var h=e.substring(f.start2,f.start2+f.length1),g=0;e.indexOf(h)!=e.lastIndexOf(h)&&h.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;){g+=this.Patch_Margin;h=e.substring(f.start2-g,f.start2+f.length1+g)}g+=this.Patch_Margin;(h=e.substring(f.start2-g,f.start2))&&f.diffs.unshift([0,h]);(g=e.substring(f.start2+f.length1,f.start2+f.length1+g))&&f.diffs.push([0,g]);f.start1-=h.length;f.start2-=h.length;f.length1+=h.length+g.length;f.length2+=h.length+g.length}};b.prototype.patch_make=function(v,u,t){var s;if(typeof v=="string"&&typeof u=="string"&&typeof t=="undefined"){s=v;u=this.diff_main(s,u,true);if(u.length>2){this.diff_cleanupSemantic(u);this.diff_cleanupEfficiency(u)}}else{if(v&&typeof v=="object"&&typeof u=="undefined"&&typeof t=="undefined"){u=v;s=this.diff_text1(u)}else{if(typeof v=="string"&&u&&typeof u=="object"&&typeof t=="undefined"){s=v;u=u}else{if(typeof v=="string"&&typeof u=="string"&&t&&typeof t=="object"){s=v;u=t}else{throw Error("Unknown call format to patch_make.")}}}}if(u.length===0){return[]}t=[];v=new a;var r=0,q=0,o=0,p=s;s=s;for(var m=0;m<u.length;m++){var n=u[m][0],l=u[m][1];if(!r&&n!==0){v.start1=q;v.start2=o}switch(n){case 1:v.diffs[r++]=u[m];v.length2+=l.length;s=s.substring(0,o)+l+s.substring(o);break;case -1:v.length1+=l.length;v.diffs[r++]=u[m];s=s.substring(0,o)+s.substring(o+l.length);break;case 0:if(l.length<=2*this.Patch_Margin&&r&&u.length!=m+1){v.diffs[r++]=u[m];v.length1+=l.length;v.length2+=l.length}else{if(l.length>=2*this.Patch_Margin){if(r){this.patch_addContext(v,p);t.push(v);v=new a;r=0;p=s;q=o}}}}if(n!==1){q+=l.length}if(n!==-1){o+=l.length}}if(r){this.patch_addContext(v,p);t.push(v)}return t};b.prototype.patch_deepCopy=function(h){for(var g=[],l=0;l<h.length;l++){var k=h[l],j=new a;j.diffs=[];for(var i=0;i<k.diffs.length;i++){j.diffs[i]=k.diffs[i].slice()}j.start1=k.start1;j.start2=k.start2;j.length1=k.length1;j.length2=k.length2;g[l]=j}return g};b.prototype.patch_apply=function(x,w){if(x.length==0){return[w,[]]}x=this.patch_deepCopy(x);var v=this.patch_addPadding(x);w=v+w+v;this.patch_splitMax(x);for(var u=0,t=[],s=0;s<x.length;s++){var q=x[s].start2+u,r=this.diff_text1(x[s].diffs),o,p=-1;if(r.length>this.Match_MaxBits){o=this.match_main(w,r.substring(0,this.Match_MaxBits),q);if(o!=-1){p=this.match_main(w,r.substring(r.length-this.Match_MaxBits),q+r.length-this.Match_MaxBits);if(p==-1||o>=p){o=-1}}}else{o=this.match_main(w,r,q)}if(o==-1){t[s]=false;u-=x[s].length2-x[s].length1}else{t[s]=true;u=o-q;q=p==-1?w.substring(o,o+r.length):w.substring(o,p+this.Match_MaxBits);if(r==q){w=w.substring(0,o)+this.diff_text2(x[s].diffs)+w.substring(o+r.length)}else{q=this.diff_main(r,q,false);if(r.length>this.Match_MaxBits&&this.diff_levenshtein(q)/r.length>this.Patch_DeleteThreshold){t[s]=false}else{this.diff_cleanupSemanticLossless(q);r=0;var n;for(p=0;p<x[s].diffs.length;p++){var m=x[s].diffs[p];if(m[0]!==0){n=this.diff_xIndex(q,r)}if(m[0]===1){w=w.substring(0,o+n)+m[1]+w.substring(o+n)}else{if(m[0]===-1){w=w.substring(0,o+n)+w.substring(o+this.diff_xIndex(q,r+m[1].length))}}if(m[0]!==-1){r+=m[1].length}}}}}}w=w.substring(v.length,w.length-v.length);return[w,t]};b.prototype.patch_addPadding=function(h){for(var g=this.Patch_Margin,l="",k=1;k<=g;k++){l+=String.fromCharCode(k)}for(k=0;k<h.length;k++){h[k].start1+=g;h[k].start2+=g}k=h[0];var j=k.diffs;if(j.length==0||j[0][0]!=0){j.unshift([0,l]);k.start1-=g;k.start2-=g;k.length1+=g;k.length2+=g}else{if(g>j[0][1].length){var i=g-j[0][1].length;j[0][1]=l.substring(j[0][1].length)+j[0][1];k.start1-=i;k.start2-=i;k.length1+=i;k.length2+=i}}k=h[h.length-1];j=k.diffs;if(j.length==0||j[j.length-1][0]!=0){j.push([0,l]);k.length1+=g;k.length2+=g}else{if(g>j[j.length-1][1].length){i=g-j[j.length-1][1].length;j[j.length-1][1]+=l.substring(0,i);k.length1+=i;k.length2+=i}}return l};b.prototype.patch_splitMax=function(t){for(var s=this.Match_MaxBits,r=0;r<t.length;r++){if(t[r].length1>s){var q=t[r];t.splice(r--,1);for(var p=q.start1,o=q.start2,m="";q.diffs.length!==0;){var n=new a,k=true;n.start1=p-m.length;n.start2=o-m.length;if(m!==""){n.length1=n.length2=m.length;n.diffs.push([0,m])}for(;q.diffs.length!==0&&n.length1<s-this.Patch_Margin;){m=q.diffs[0][0];var l=q.diffs[0][1];if(m===1){n.length2+=l.length;o+=l.length;n.diffs.push(q.diffs.shift());k=false}else{if(m===-1&&n.diffs.length==1&&n.diffs[0][0]==0&&l.length>2*s){n.length1+=l.length;p+=l.length;k=false;n.diffs.push([m,l]);q.diffs.shift()}else{l=l.substring(0,s-n.length1-this.Patch_Margin);n.length1+=l.length;p+=l.length;if(m===0){n.length2+=l.length;o+=l.length}else{k=false}n.diffs.push([m,l]);if(l==q.diffs[0][1]){q.diffs.shift()}else{q.diffs[0][1]=q.diffs[0][1].substring(l.length)}}}}m=this.diff_text2(n.diffs);m=m.substring(m.length-this.Patch_Margin);l=this.diff_text1(q.diffs).substring(0,this.Patch_Margin);if(l!==""){n.length1+=l.length;n.length2+=l.length;if(n.diffs.length!==0&&n.diffs[n.diffs.length-1][0]===0){n.diffs[n.diffs.length-1][1]+=l}else{n.diffs.push([0,l])}}k||t.splice(++r,0,n)}}}};b.prototype.patch_toText=function(e){for(var d=[],f=0;f<e.length;f++){d[f]=e[f]}return d.join("")};b.prototype.patch_fromText=function(j){var i=[];if(!j){return i}j=j.split("\n");for(var p=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;p<j.length;){var n=j[p].match(o);if(!n){throw Error("Invalid patch string: "+j[p])}var m=new a;i.push(m);m.start1=parseInt(n[1],10);if(n[2]===""){m.start1--;m.length1=1}else{if(n[2]=="0"){m.length1=0}else{m.start1--;m.length1=parseInt(n[2],10)}}m.start2=parseInt(n[3],10);if(n[4]===""){m.start2--;m.length2=1}else{if(n[4]=="0"){m.length2=0}else{m.start2--;m.length2=parseInt(n[4],10)}}for(p++;p<j.length;){n=j[p].charAt(0);try{var k=decodeURI(j[p].substring(1))}catch(l){throw Error("Illegal escape in patch_fromText: "+k)}if(n=="-"){m.diffs.push([-1,k])}else{if(n=="+"){m.diffs.push([1,k])}else{if(n==" "){m.diffs.push([0,k])}else{if(n=="@"){break}else{if(n!==""){throw Error('Invalid patch mode "'+n+'" in: '+k)}}}}}p++}}return i};function a(){this.diffs=[];this.start2=this.start1=null;this.length2=this.length1=0}a.prototype.toString=function(){var e,d;e=this.length1===0?this.start1+",0":this.length1==1?this.start1+1:this.start1+1+","+this.length1;d=this.length2===0?this.start2+",0":this.length2==1?this.start2+1:this.start2+1+","+this.length2;e=["@@ -"+e+" +"+d+" @@\n"];var f;for(d=0;d<this.diffs.length;d++){switch(this.diffs[d][0]){case 1:f="+";break;case -1:f="-";break;case 0:f=" "}e[d+1]=f+encodeURI(this.diffs[d][1])+"\n"}return e.join("").replace(/%20/g," ")};window.diff_match_patch=b;window.patch_obj=a;window.DIFF_DELETE=-1;window.DIFF_INSERT=1;window.DIFF_EQUAL=0})();
(function(){var c,j,e,g,h,f,a;function d(l,k){var m=document.createElement("div");m.className=k>0?"fail":"pass";m.appendChild(document.createTextNode(l));j.appendChild(m);a+=(k>0?"[FAILED] ":"")+l+"\n"}function i(){c.src=QUnitRunner.tests[g++].url}function b(n){var k,m,l;k=n.split("&");n={};for(l=0;l<k.length;l++){m=k[l].split("=");n[unescape(m[0])]=unescape(m[1])}return n}if(top!=window&&QUnit){QUnit.done=function(k,l){top.QUnitRunner.done(k,l,document.title)}}window.QUnitRunner={init:function(o){var k=this,p=o.suites,m,q,l="",n;this.tests=[];for(m=0;m<p.length;m++){l+="<h2>"+p[m].title+"</h2><ul>";n=p[m].tests;for(q=0;q<n.length;q++){l+='<li><a href="'+n[q].url+'">'+n[q].title+"</a></li>"}l+="</ul>";this.tests=this.tests.concat(n)}e=o;this.query=b(document.location.search.substr(1));window.onload=function(){document.getElementById("menu").innerHTML=l;if(k.query.id){QUnitRunner.run()}}},run:function(){if(!c){c=document.createElement("iframe");c.style.position="absolute";c.style.left="-5000px";c.style.top="-5000px";c.style.width="1000px";c.style.height="1000px";document.body.appendChild(c)}j=document.getElementById("log");a=j.innerHTML="";d("Started running all unit tests.");g=h=f=0;i()},done:function(k,l,m){h+=k;f+=l;d(m+". Tests: "+l+", Failed: "+k,k);if(g<this.tests.length){i()}else{d("Finished running all tests. Total: "+f+", Failed: "+h);if(this.query.id){this.postResults(this.query.id,f,h,a)}}},postResults:function(p,n,k,l){var m=document.createElement("form");function o(r,s){var q=document.createElement("input");q.type="hidden";q.name=r;q.value=s;m.appendChild(q)}m.action="/moxietest/store.php";m.method="post";o("id",p);o("total",n);o("failed",k);o("log",l);document.body.appendChild(m);m.submit()}}})();
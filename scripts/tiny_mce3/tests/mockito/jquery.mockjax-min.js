(function(d){var c=d.ajax,b=[];function a(f){if(window.DOMParser==undefined&&window.ActiveXObject){DOMParser=function(){};DOMParser.prototype.parseFromString=function(k){var e=new ActiveXObject("Microsoft.XMLDOM");e.async="false";e.loadXML(k);return e}}try{var h=(new DOMParser()).parseFromString(f,"text/xml");if(d.isXMLDoc(h)){var g=d("parsererror",h);if(g.length==1){throw ("Error: "+d(h).text())}}else{throw ("Unable to parse XML")}}catch(i){var j=(i.name==undefined?i:i.name+": "+i.message);d(document).trigger("xmlParseError",[j]);return undefined}return h}d.extend({ajax:function(e){var g=jQuery.extend(true,{},jQuery.ajaxSettings,e),f=false;d.each(b,function(q,y){if(!b[q]){return}var l=null;if(d.isFunction(b[q])){l=b[q](g)}else{l=b[q];if(d.isFunction(l.url.test)){if(!l.url.test(g.url)){l=null}}else{var t=l.url.indexOf("*");if((l.url!="*"&&l.url!=g.url&&t==-1)||(t>-1&&l.url.substr(0,t)!=g.url.substr(0,t))){l=null}}if(l){if(l.data&&g.data){var x=false;(function s(k,m){if(typeof m==="string"){x=d.isFunction(k.test)?k.test(m):k==m;return x}d.each(k,function(B,A){if(m[B]===undefined){x=false;return false}else{x=true;if(typeof m[B]=="object"){return s(k[B],m[B])}else{if(d.isFunction(k[B].test)){x=k[B].test(m[B])}else{x=(k[B]==m[B])}return x}}})})(l.data,g.data);if(x==false){l=null}}if(l&&l.type&&l.type!=g.type){l=null}}}if(l){f=true;var u=d.extend({},d.mockjaxSettings,l);if(u.log&&d.isFunction(u.log)){u.log("MOCK "+g.type.toUpperCase()+": "+g.url,d.extend({},g))}var n=/=\?(&|$)/,w=(new Date()).getTime();if(g.dataType==="jsonp"){if(g.type.toUpperCase()==="GET"){if(!n.test(g.url)){g.url+=(rquery.test(g.url)?"&":"?")+(g.jsonp||"callback")+"=?"}}else{if(!g.data||!n.test(g.data)){g.data=(g.data?g.data+"&":"")+(g.jsonp||"callback")+"=?"}}g.dataType="json"}if(g.dataType==="json"&&(g.data&&n.test(g.data)||n.test(g.url))){jsonp=g.jsonpCallback||("jsonp"+w++);if(g.data){g.data=(g.data+"").replace(n,"="+jsonp+"$1")}g.url=g.url.replace(n,"="+jsonp+"$1");g.dataType="script";window[jsonp]=window[jsonp]||function(k){data=k;z();h();window[jsonp]=undefined;try{delete window[jsonp]}catch(m){}if(head){head.removeChild(script)}}}var p=/^(\w+:)?\/\/([^\/?#]+)/,r=p.exec(g.url),i=r&&(r[1]&&r[1]!==location.protocol||r[2]!==location.host);if(g.dataType==="script"&&g.type.toUpperCase()==="GET"&&i){var o=e&&e.context||g;function z(){if(g.success){g.success.call(o,(l.response?l.response.toString():l.responseText||""),status,{})}if(g.global){j("ajaxSuccess",[{},g])}}function h(){if(g.complete){g.complete.call(o,{},status)}if(g.global){j("ajaxComplete",[{},g])}if(g.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}function j(m,k){(g.context?jQuery(g.context):jQuery.event).trigger(m,k)}if(l.response&&d.isFunction(l.response)){l.response(e)}else{d.globalEval(l.responseText)}z();h();return false}f=c.call(d,d.extend(true,{},e,{xhr:function(){l=d.extend({},d.mockjaxSettings,l);if(l.contentType){l.headers["content-type"]=l.contentType}return{status:l.status,readyState:1,open:function(){},send:function(){var k=(function(m){return function(){return(function(){this.status=l.status;this.readyState=4;if(d.isFunction(l.response)){l.response(e)}if(g.dataType=="json"&&(typeof l.responseText=="object")){this.responseText=JSON.stringify(l.responseText)}else{if(g.dataType=="xml"){if(typeof l.responseXML=="string"){this.responseXML=a(l.responseXML)}else{this.responseXML=l.responseXML}}else{this.responseText=l.responseText}}if(d.isFunction(this.onreadystatechange)){this.onreadystatechange(l.isTimeout?"timeout":undefined)}}).apply(m)}})(this);if(l.proxy){c({global:false,url:l.proxy,type:l.proxyType,data:l.data,dataType:g.dataType,complete:function(v,m){l.responseXML=v.responseXML;l.responseText=v.responseText;this.responseTimer=setTimeout(k,l.responseTime||0)}})}else{if(g.async===false){k()}else{this.responseTimer=setTimeout(k,l.responseTime||50)}}},abort:function(){clearTimeout(this.responseTimer)},setRequestHeader:function(){},getResponseHeader:function(k){if(l.headers&&l.headers[k]){return l.headers[k]}else{if(k.toLowerCase()=="last-modified"){return l.lastModified||(new Date()).toString()}else{if(k.toLowerCase()=="etag"){return l.etag||""}else{if(k.toLowerCase()=="content-type"){return l.contentType||"text/plain"}}}}},getAllResponseHeaders:function(){var k="";d.each(l.headers,function(A,m){k+=A+": "+m+"\n"});return k}}}}));return false}});if(!f){return c.apply(d,arguments)}else{return f}}});d.mockjaxSettings={log:function(e){window.console&&window.console.log&&window.console.log(e)},status:200,responseTime:500,isTimeout:false,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",proxyType:"GET",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}};d.mockjax=function(f){var e=b.length;b[e]=f;return e};d.mockjaxClear=function(e){if(arguments.length==1){b[e]=null}else{b=[]}}})(jQuery);
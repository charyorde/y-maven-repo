module("Jive Style Plugin",{autostart:false});test("CS-23266 table formatting header in far left cell",function(){var b=editor.get("wysiwygtext");ed.setContent('<body><table width="200" height="200"><tr><td>asdf</td><td></td></tr><tr><td></td><td>asdf</td></tr></table></body>');var c=$j(ed.getBody()).find("table td:nth(0)").get(0).firstChild;var a=ed.dom.createRng();a.setStart(c,4);a.setEnd(c,4);ed.selection.setRng(a);ed.nodeChanged();ed.execCommand("mceJiveStyleHeader1");equals($j(ed.getBody()).find("table td:nth(0)").get(0).childNodes.length,1,"td has 1 child")});test("JIVE-508 fixed header format in IE",function(){var b=editor.get("wysiwygtext");ed.setContent("<body><h2><span>asdf</span></h2></body>");var c=$j(ed.getBody()).find("h2 span").get(0).firstChild;var a=ed.dom.createRng();a.setStart(c,4);a.setEnd(c,4);ed.selection.setRng(a);ed.nodeChanged();ed.execCommand("FormatBlock",false,"h1");equals(ed.getContent().replace(/[\r\n]+/g,""),"<h1><span>asdf</span></h1>")});test("formatblock h1 in table default tinymce 2",function(){ed.setContent("<table><tbody><tr><td></td><td>asdfasdf</td></tr></tbody></table><p>asdf</p>");var a=ed.dom.createRng();var b=ed.getBody().firstChild.firstChild.firstChild.firstChild;a.setStart(b,0);a.setEnd(b,0);ed.selection.setRng(a);ed.execCommand("FormatBlock",false,"h1");checkContent(ed,"<table><tbody><tr><td><h1></h1></td><td>asdfasdf</td></tr></tbody></table><p>asdf</p>")});test("formatblock h1 in table default tinymce 2",function(){ed.setContent("<table><tbody><tr><td>someatextain a TD</td><td>asdfasdf</td></tr></tbody></table><p>asdf</p>");var a=ed.dom.createRng();var b=ed.getBody().firstChild.firstChild.firstChild.firstChild;a.setStart(b.firstChild,5);a.setEnd(b.firstChild,5);ed.selection.setRng(a);ed.execCommand("FormatBlock",false,"h1");checkContent(ed,"<table><tbody><tr><td><h1>someatextain a TD</h1></td><td>asdfasdf</td></tr></tbody></table><p>asdf</p>")});
(function(){tinymce.create("tinymce.plugins.JiveButtonsPlugin",{execCommand:function(b,a,c){if(b=="mceNull"){return true}return false},initToolbar:function(j){var h,f,n;if(!j||typeof(j)!="string"){var e=window.editor.toArray();for(f=0;f<e.length;f++){if(e[f]&&e[f].getID){this.initToolbar(e[f].getID())}}return}else{h=tinyMCE.get(j)}var l=document.getElementById(j+"_magicspacer0");var g=document.getElementById(j+"_magicspacer1");var m=document.getElementById(j+"_toolbar1");if(l){var o=m.rows[0].cells;var d=0;for(f=1;f<3;f++){n=o[f];d+=jive.ext.x.xWidth(n)}d+=26;m=document.getElementById(j+"_toolbar2");o=m.rows[0].cells;var c=0;for(f=6;f<7;f++){n=o[f];c+=jive.ext.x.xWidth(n)}c+=133;c+=6;var b=d-c;if(b<-100){return}else{if(b<-30){var k=this;setTimeout(function(){k.initToolbar(j)},33);return}else{if(b<0){jive.ext.x.xDisplayNone(g);jive.ext.x.xDisplayBlock(l);jive.ext.x.xWidth(l,(b*-1)-1)}else{jive.ext.x.xDisplayNone(l);jive.ext.x.xDisplayBlock(g);if(b<=0){jive.ext.x.xDisplayNone(g)}else{jive.ext.x.xWidth(g,b-5)}}}}}var a=document.getElementById(j+"_spellchecker");if(a!==null){n=h.dom.getParent(a,function(i){return i!=a});n.style.width="100%"}if(tinymce.isIE){if(document.documentMode&&document.documentMode>7){}else{$j("#wysiwygtext_magicspacer1").closest("td").css("padding",0)}}},init:function(a,b){this.url=b;var c=this;this.index=0;this.mindex=0;a.onInit.add(function(d){var e=$j('[id="'+d.id+'_toolbar1"]',d.getContainer()).get(0);var f=e.parentNode;if(tinymce.isIE){f.style.height=this.settings.default_height+"px"}else{f.style.height=(this.settings.default_height-1)+"px"}f.style.bottom="0px"})},getInfo:function(){return{longname:"Jive Buttons",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}},createControl:function(d,a){var b;if(d=="spacerbutton"){b=a.createButton("spacerbutton"+this.index,{"class":"jive_spacer_button jive_spacer_button"+this.index,cmd:"mceNull"});this.index++;return b}if(d=="magicspacer"){b=a.createButton("magicspacer"+this.mindex,{"class":"jive_spacer_button jive_magicspacer_button",cmd:"mceNull"});this.mindex++;return b}return null}});tinymce.PluginManager.add("jivebuttons",tinymce.plugins.JiveButtonsPlugin)})();
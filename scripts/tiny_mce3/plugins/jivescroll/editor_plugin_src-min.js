(function(){tinymce.create("tinymce.plugins.JiveScrollPlugin",{lastScrollY:-99,lastScrollX:-99,body:null,win:null,init:function(a){a.onScroll=new tinymce.util.Dispatcher(this);var b=this;a.onInit.add(function(){this.intervalId=setInterval(function(){b.resetScroll(a)},300);a.dom.bind(a.getWin(),"scroll",function(){if(!b.timeoutId){b.timeoutId=setTimeout(function(){b.timeoutId=null;b.resetScroll(a)},0)}if(b.intervalId){clearInterval(b.intervalId);b.intervalId=null}});setTimeout(function(){b.resetScroll(a)},0)},this);a.theme.onResize.add(function(){b.resetScroll(a)},this)},resetScroll:function(b){try{if(this.intervalId&&(b.destroyed||!b.getWin())){clearInterval(this.intervalId);return}if(!this.body){this.body=$j(b.getBody()).parents("html").andSelf();this.win=$j(b.getWin())}var d=this.body.scrollTop();if(!d){d=this.win.scrollTop()}var a=this.body.scrollLeft();if(!a){a=this.win.scrollLeft()}if(this.lastScrollY!=d||this.lastScrollX!=a){this.lastScrollY=d;this.lastScrollX=a;b.onScroll.dispatch(a,d)}}catch(c){console.log("error in jivescroll.resetScroll");console.log(c)}},getInfo:function(){return{longname:"Jive Scroll",author:"Jive Software",authorurl:"http://jivesoftware.com",infourl:"http://jivesoftware.com",version:tinyMCE.majorVersion+"."+tinyMCE.minorVersion}}});tinymce.PluginManager.add("jivescroll",tinymce.plugins.JiveScrollPlugin)})();
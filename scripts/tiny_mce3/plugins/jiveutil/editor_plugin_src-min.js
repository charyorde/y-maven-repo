(function(){tinymce.create("tinymce.plugins.JiveUtilPlugin",{getInfo:function(){return{longname:"Jive Utility Plugin",author:"Jive Software",authorurl:"http://www.jivesoftware.com",infourl:"http://www.jivesoftware.com/",version:"1.0"}},findMacro:function(d){var c=jive.rte.macros;var b=this.findMacroIndex(d);if(b!=null){return c[b]}return null},findMacroIndex:function(d){var c=jive.rte.macros;for(var b=0;b<c.length;++b){if(c[b].getName()==d){return b}}return null},findColumnBoundsForCell:function(c){var e=$j();var b=c.closest("table");var d=0;c.prevAll("td,th").andSelf().each(function(f,g){var h=$j(g).attr("colspan");d+=h?parseInt(h):1});b.find("tr").each(function(){var f=0;$j(this).find("td, th").each(function(g,h){var i=$j(h).attr("colspan");f+=i?parseInt(i):1;if(f>=d){e=e.add(h);return false}})});return e},findColumnFirstCell:function(b){return this.findColumnCellInRow(b,true)},findColumnLastCell:function(b){return this.findColumnCellInRow(b,false)},findColumnCellInRow:function(e,b){var h=$j();var d=e.closest("table");var g=0;e.prevAll("td,th").andSelf().each(function(i,j){var k=$j(j).attr("colspan");g+=k?parseInt(k):1});var c=d.find("tr").filter(function(){return this.childNodes.length>0});if(b){c=c.first()}else{c=c.last()}var f=0;c.find("td, th").each(function(i,j){var k=$j(j).attr("colspan");f+=k?parseInt(k):1;if(f>=g){h=h.add(j);return false}});return h},convertRGBToHex:function(b){b=b.substr(b.indexOf("(")+1);b=b.substr(0,b.length-1);b=b.split(",");b[0]=parseInt($j.trim(b[0])).toString(16);b[1]=parseInt($j.trim(b[1])).toString(16);b[2]=parseInt($j.trim(b[2])).toString(16);if(b[0].length==1){b[0]="0"+b[0]}if(b[1].length==1){b[1]="0"+b[1]}if(b[2].length==1){b[2]="0"+b[2]}if(b.length==3||b[3]>0){return("#"+b[0]+b[1]+b[2]).toUpperCase()}return""},shouldEncodeHuh:function(b,e){var c=b.dom.getParent(e,function(f){return f==b.getBody()||b.plugins.jivemacros.isMacro(f)});if(!b.plugins.jivemacros.isMacro(c)){c=null}if(c!=null){var d=b.plugins.jivemacros.getMacroFor(c);if(d&&d.getName()=="code"){return false}}return true},walkDOMTreeKids:function(b,d,e){e(b);if(b==d){return true}for(var c=0;c<b.childNodes.length;c++){if(this.walkDOMTreeKids(b.childNodes[c],d,e)){return true}}return false},walkDOMTree:function(b,c,d){if(this.walkDOMTreeKids(b,c,d)){return true}while(b.nextSibling!=null){b=b.nextSibling;if(this.walkDOMTreeKids(b,c,d)){return true}}function f(g){if(g.nodeType==1&&g.nodeName.toLowerCase()=="body"){return g}if(g.parentNode.nextSibling==null){return f(g.parentNode)}return g.parentNode.nextSibling}var e=f(b);if(e.nodeType==1&&e.nodeName.toLowerCase()=="body"){return true}return this.walkDOMTree(e,c,d)},textLengthIn:function(c){var b=0;this.walkDOMTreeKids(c,null,function(d){if(d.nodeType==3){b+=d.nodeValue.length}});return b},getNodeAt:function(d,e){if(e==0){return d}if(d.nodeType!=1){return null}for(var c=0;c<d.childNodes.length;c++){var b=this.textLengthIn(d.childNodes[c]);if(e==0){return d.childNodes[c]}else{if(b>e){var f=this.getNodeAt(d.childNodes[c],e);if(f==null){return d}return f}else{e-=b}}}return null},arrayEquals:function a(d,c){if(d===c){return true}if(d==null||c==null||d.length!==c.length){return false}for(var b=0;b<d.length;++b){if(d[b]!==c[b]){return false}}return true},clone:function(b,k){var e=/ jQuery\d+="(?:\d+|null)"/g,h=/^\s+/;var d=b.map(function(i){return function(){if(!jQuery.support.noCloneEvent&&!jQuery.isXMLDoc(this)){var l=this.outerHTML;if(!l){var m=i.createElement("div");m.appendChild(this.cloneNode(true));l=m.innerHTML}return jQuery.clean([l.replace(e,"").replace(h,"")],i)[0]}else{return this.cloneNode(true)}}}(k));var j=["font-family","font-size","font-weight","font-style","text-transform","text-decoration","letter-spacing","word-spacing","line-height","text-align","vertical-align","direction","width","height","margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","border-top-style","border-right-style","border-bottom-style","border-left-style","overflow-x","overflow-y","white-space","clip","list-style-image","list-style-position","list-style-type","marker-offset"];for(var f=0;f<j.length;f++){var g=j[f];var c=b.css(g);if(c&&(g!="width"||c!="0px")){d.css(g,b.css(g))}}return d}});tinymce.PluginManager.add("jiveutil",tinymce.plugins.JiveUtilPlugin)})();
opensocial.data.registerRequestHandler("jive:ConnectsRequest",function(d){var b=d.getAttribute("alias");var c=d.getAttribute("format")||"json";var a=d.getAttribute("href")||"";var e={alias:b,format:c,href:a};console.log("Making data pipeline request for "+JSON.stringify(e));osapi.jive.connects.get(e).execute(function(f){console.log("Storing data pipeline results for key "+d.key+" = "+JSON.stringify(f.content));opensocial.data.DataContext.putDataSet(d.key,f.content)})});jive.namespace("connects",{});jive.connects._init=function(){osapi.jive.connects.reconfigure=function(c,a,d){if(a.error&&a.error.oauth2_redirect_uri){var b={alias:c,redirectURI:a.error.oauth2_redirect_uri,windowChars:"width=900,height=600"};gadgets.rpc.call(null,"gather_oauth_credentials",function(e){d(e)},b)}else{var b={alias:c};gadgets.rpc.call(null,"halt_app",function(e){d(e)},b)}}};gadgets.util.registerOnLoadHandler(jive.connects._init);
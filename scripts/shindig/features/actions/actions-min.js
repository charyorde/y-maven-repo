gadgets.actions=(function(){function e(i){var k=i.actionId;var h=i.selectionObj;var j=c.getCallback(k);if(j){var g=h?[h]:null;j.apply(this,g)}}function a(){this.registryById={};this.addAction=function(h,g){this.registryById[h]=g};this.removeAction=function(g){delete this.registryById[g]};this.getCallback=function(g){return this.registryById[g]}}function b(i,g){var h=g;if(i=="runAction"){e(h)}}var c=new a();var d;var f=function(){if(!d){gadgets.rpc.register("actions",b);d=true}};return{addAction:function(h){f();var i=h.id;var g=h.callback;c.addAction(i,g);gadgets.rpc.call("..","actions",null,"bindAction",h)},updateAction:function(h){f();var i=h.id;var g=h.callback;c.addAction(i,g);gadgets.rpc.call("..","actions",null,"bindAction",h)},runAction:function(h,g){actionData={id:h,selection:g};gadgets.rpc.call("..","actions",null,"runAction",actionData)},removeAction:function(g){f();c.removeAction(g);gadgets.rpc.call("..","actions",null,"removeAction",g)},getActionsByPath:function(g,h){gadgets.rpc.call("..","actions",h,"getActionsByPath",g)},getActionsByDataType:function(g,h){gadgets.rpc.call("..","actions",h,"getActionsByDataType",g)},registerShowActionsListener:function(g){if(typeof g==="function"){gadgets.rpc.call("..","actions",null,"addShowActionListener",g)}},registerHideActionsListener:function(g){if(typeof g==="function"){gadgets.rpc.call("..","actions",null,"addHideActionListener",g)}}}})();
gadgets.rpctx=gadgets.rpctx||{};if(!gadgets.rpctx.wpm){gadgets.rpctx.wpm=function(){var e,d;var c=true;function b(h,i,g){if(typeof window.addEventListener!="undefined"){window.addEventListener(h,i,g)}else{if(typeof window.attachEvent!="undefined"){window.attachEvent("on"+h,i)}}}function a(h,i,g){if(window.removeEventListener){window.removeEventListener(h,i,g)}else{if(window.detachEvent){window.detachEvent("on"+h,i)}}}function f(h){var i=gadgets.json.parse(h.data);if(!i||!i.f){return}var g=gadgets.rpc.getTargetOrigin(i.f);if(c&&(typeof h.origin!=="undefined"?h.origin!==g:h.domain!==/^.+:\/\/([^:]+).*/.exec(g)[1])){return}e(i,h.origin)}return{getCode:function(){return"wpm"},isParentVerifiable:function(){return true},init:function(h,i){function g(k){var j=k?k.rpc:{};if(String(j.disableForceSecure)==="true"){c=false}}gadgets.config.register("rpc",null,g);e=h;d=i;b("message",f,false);d("..",true);return true},setup:function(h,g){d(h,true);return true},call:function(h,k,j){var g=gadgets.rpc.getTargetOrigin(h);var i=gadgets.rpc._getTargetWin(h);if(g){window.setTimeout(function(){i.postMessage(gadgets.json.stringify(j),g)},0)}else{gadgets.error("No relay set (used as window.postMessage targetOrigin), cannot send cross-domain message")}return true}}}()};
var JiveContainerPicker=$Class.extend({defaults:{chooser:"jive-container-chooser",chooserChoices:"jive-container-chooser-choices",containerSelected:"jive-container-chooser-selected",containerTypeField:"jive-container-chooser-type",containerIDField:"jive-container-chooser-id",validTypes:[],contentType:-1,bridge:-1,showRootCommunity:true,excludeResultIfUserCannotViewContent:false},init:function(a){this.options=$j.extend({},this.defaults,a);this.startAutoCompleter()},startAutoCompleter:function(){var a=(this.options.bridge>-1)?"bridge-widget-container-autocomplete.jspa":"container-autocomplete.jspa";var b={bridge:this.options.bridge>-1?this.options.bridge:[],contentType:this.options.contentType>0?this.options.contentType:[],showRootCommunity:this.options.showRootCommunity,excludeResultIfUserCannotViewContent:this.options.excludeResultIfUserCannotViewContent};if(this.options.validTypes&&this.options.validTypes.length){b.validTypes=this.options.validTypes}$j("#"+this.options.chooser).suggest(a,{attachObject:"#"+this.options.chooserChoices,onSelect:this.addContainer.bind(this),minchars:1,requestMethod:"POST",paramName:"query",extraParams:b,transformData:function(c){return $j.makeArray($j(c).find("li")).map(function(d){var e=$j(d).attr("id").split("-").last();return[$j(d).html(),e]})},position:function(e,c){var d=e.get(0);c.css({top:(d.offsetTop+d.offsetHeight)+"px",left:d.offsetLeft+"px"})},liClass:"jive-container"})},addContainer:function(b,c){var d=b.split("_").first(),a=b.split("_").last();if(d&&a){$j("#"+this.options.containerTypeField).val(d);$j("#"+this.options.containerIDField).val(a);$j("#"+this.options.chooser).hide().val("").prop("disabled",true);$j("#"+this.options.containerSelected).find(".j-js-change").remove().end().append(c+'<a class="j-js-change" href="#" class="font-color-meta">Change</a>').show();this.addContainerHook(c)}},addContainerHook:function(a){},removeContainer:function(){$j("#"+this.options.containerTypeField).val("-1");$j("#"+this.options.containerIDField).val("-1");$j("#"+this.options.containerSelected).hide().html("");$j("#"+this.options.chooser).prop("disabled",false).val("").show();this.removeContainerHook()},removeContainerHook:function(){}});
var Comments={select:function select(b){var d=$j(this).closest("[id^=jive-message-]");var g=parseInt(d.attr("id").split("-").last(),10);var a=false;if(Comments.tableRelations[g]){var e=Comments.getRelations(g);a=true}if(Comments.sSelectedId){var f=Comments.getRelations(Comments.sSelectedId);var c=f.parents.concat(f.children,Comments.sSelectedId);(c).forEach(function(h){var i=$j("#jive-message-"+h);i.removeClass();i.addClass(i.data("oldClassName"))})}if(!a){d.removeClass().addClass("jive-messagebox-this");Comments.sSelectedId=g;return}e.parents.forEach(function(h){$j("#jive-message-"+h).removeClass().addClass("jive-messagebox-parent")});e.children.forEach(function(h){$j("#jive-message-"+h).removeClass().addClass("jive-messagebox-child")});d.data("oldClassName",d.attr("className"));d.removeClass();d.addClass("jive-messagebox-this");Comments.sSelectedId=g},getRelations:function getRelations(b){var a={parents:[],children:[]};if(Comments.tableRelations[b]){if(Comments.tableRelations[b].parents){a.parents=Comments.tableRelations[b].parents}if(Comments.tableRelations[b].children){a.children=Comments.tableRelations[b].children}}return a},init:function init(){var a=$j("#jive-message-holder");a.children("div").click(Comments.select).focus(Comments.select)},sSelectedId:null};$j(document).ready(Comments.init);
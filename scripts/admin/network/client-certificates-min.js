$j(document).ready(function(){var h=[];var f=[];var d=null;function c(){if(d===null){d=window.setTimeout(function(){d=null;$j("#js-proxy-server-messages").remove();var j=null;if(h.length){j=jive.admin.client_certs.renderErrorMessages({messages:h});h.length=0;f.length=0}else{if(f.length){j=jive.admin.client_certs.renderSuccessMessages({messages:h});f.length=0;d=window.setTimeout(arguments.callee,10000)}}if(j){var i=$j("<div/>").attr("id","js-proxy-server-messages");i.html(j);i.prependTo(".jive-body-contentBox");window.scrollTo(0,0)}},1)}}function b(i){if(i){h.push(i);c()}}function a(i){if(i){f.push(i);c()}}function e(){return $j("input:checked[name=strategy]").val()}var g=e();$j("input[name=strategy]").bind("change click",function(){if(e()==g){$j("#js-change-strategy-submit").attr("disabled","disabled")}else{$j("#js-change-strategy-submit").removeAttr("disabled")}var i=$j(this).val();$j("#js-change-strategy ul.strategies > li").removeClass("checked").filter("[data-value="+i+"]").addClass("checked")});$j("#js-change-strategy-submit").click(function(i){if(!confirm($j("#js-change-strategy-confirmation").text())){$j("input[name=strategy][value="+g+"]").click();$j("#js-change-strategy-submit").attr("disabled","disabled");i.preventDefault()}g=e()});$j("#js-certificate-list").delegate(".js-delete-key","click",function(k){var j=$j(this);var i=j.attr("data-alias");function l(){var m=j.closest("tbody");j.closest("tr").remove();if(m.has("> tr").length==0){m.html(jive.admin.client_certs.renderEmptyCertificateRow({allowDelete:true}))}}$j.ajax({type:"POST",url:_jive_base_url+"/__services/v2/rest/admin/network/client-certs/delete?key="+encodeURIComponent(i),dataType:"json",success:function(){a("Successfully removed key: "+i);l()},error:function(m){if(m.status==404){l()}else{b($j.parseJSON(m.responseText||"{}").message)}}});c();k.preventDefault()});$j(window).bind("beforeunload",function(i){if(g!=e()){return $j("#js-change-strategy-unsaved-changes").text()}})});
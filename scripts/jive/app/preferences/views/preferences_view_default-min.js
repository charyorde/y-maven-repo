define("jive.JAF.PreferencesView",["jquery"],function(a){return jive.oo.Class.extend(function(b){jive.conc.observable(this);b.init=function(c){this.domTarget=c};this.create_message=function(c,d){var e=jive.apps.preferences.renderAppDataErrorMessage({messageKeys:[c]});return{message:e,style:d}};this.edit_app_preferences=function(h,f){var d=this;var e=h.instanceAppID;if(!f.preferences||f.preferences.length<1){d.emit("app.service.wire.nav.hide");this.domTarget.html("");this.domTarget.append(a(jive.apps.preferences.renderNoPreferences()))}else{var g=a(jive.apps.preferences.renderPreferences({instanceAppID:e,appPreferences:f.preferences.length?f.preferences:[f.preferences]}));var c=function(){var i=g.find(".jive-widget-edit-elem-url");if(i.length){a(i.get(0)).focus()}};d.emit("app.service.wire.submit",{callback:function(){d.emit("app.preferences.save",g.find("form"))}});this.domTarget.html("");this.domTarget.append(g)}}})});
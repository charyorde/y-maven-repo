define("jive.JAF.Alerts.AlertMainV2",["jive.JAF.Alerts.BlockingView"],function(a){return jive.oo.Class.extend(function(b){jive.conc.observable(this);b.init=function(d,c){this.app=d;this.targetDomElement=c;this.blockingAlerts=this.app.blockingAlerts};this.hasBlockingAlerts=function(){return this.blockingAlerts.length>0};this.getApp=function(){return this.app};this.getActiveAlert=function(){return this.hasBlockingAlerts?this.blockingAlerts[0]:false};this.applyBlock=function(e,h,g){h=h||this.app;e=e?e:this.targetDomElement;if(!e){return}g=g||this.getActiveAlert();if(!g){return}var d=this;var c=new a(h);var f=c.applyBlockingAlert(e,g);c.addListener("app.block",function(i){d.emit("app.block",i)});return f};this.routeActionClicks=function(g,h,d,f,e){if(g.type=="app.launch.config"){h(this)}else{if(g.type=="app.launch.market"||g.type=="launch.market.app.profile"){window.location=window._jive_base_url+"/apps/market/marketapp/"+g.app.appUUID}else{if(g.type=="launch.market.faq"){window.open(window._jive_base_url+"/apps/market/marketfaq/"+g.app.appUUID,"fullscreen=yes")}else{if(g.type=="app.launch.account"){window.location=window._jive_base_url+"/apps/market/marketuser/"+g.app.appUUID}else{var c=function(){};var i=function(){};if(g.type=="app.remove.banned"||g.type=="app.remove.blacklisted"||g.type=="app.delete"||g.type=="app.hide"){c=d;i=f}e.emit(g.type,g.app,c,i)}}}}}})});
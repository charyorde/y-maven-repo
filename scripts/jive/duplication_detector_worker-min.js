var sourcePattern=/['"][^'"]+\.js['"]/gi;var counts={};function countSource(b){var a=counts[b]||0;counts[b]=a+1}function parseSources(a){return(a.match(sourcePattern)||[]).map(function(b){return b.slice(1,-1)})}self.addEventListener("message",function(b){var a=b.data=="$"?b.data:JSON.parse(b.data);if(a=="$"){self.postMessage(JSON.stringify({counts:counts}));self.close();return}else{if(a.source){countSource(a.source)}else{if(a.body){parseSources(a.body).forEach(function(c){countSource(c)})}}}self.postMessage(JSON.stringify({ready:true}))},false);
var dp={sh:{Toolbar:{},Utils:{},RegexLib:{},Brushes:{},Strings:{AboutDialog:'<html><head><title>About...</title></head><body class="dp-about"><table cellspacing="0"><tr><td class="copy"><p class="title">dp.SyntaxHighlighter</div><div class="para">Version: {V}</p><p><a href="http://www.dreamprojections.com/syntaxhighlighter/?ref=about" target="_blank">http://www.dreamprojections.com/syntaxhighlighter</a></p>&copy;2004-2007 Alex Gorbatchev.</td></tr><tr><td class="footer"><input type="button" class="close" value="OK" onClick="window.close()"/></td></tr></table></body></html>'},InjectedStyles:{},ClipboardSwf:null,Version:"1.5.1"}};dp.SyntaxHighlighter=dp.sh;dp.sh.Toolbar.Commands={ExpandSource:{label:"+ expand source",check:function(a){return a.collapse},func:function(b,a){b.parentNode.removeChild(b);a.div.className=a.div.className.replace("collapsed","")}},ViewSource:{label:"view plain",func:function(b,a){var d=dp.sh.Utils.FixForBlogger(a.originalCode).replace(/</g,"&lt;");var c=window.open("","_blank","width=750, height=400, location=0, resizable=1, menubar=0, scrollbars=0");c.document.write('<textarea style="width:99%;height:99%">'+d+"</textarea>");c.document.close()}},CopyToClipboard:{label:"copy to clipboard",check:function(){return window.clipboardData!=null||dp.sh.ClipboardSwf!=null},func:function(b,a){var d=dp.sh.Utils.FixForBlogger(a.originalCode).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");if(window.clipboardData){window.clipboardData.setData("text",d)}else{if(dp.sh.ClipboardSwf!=null){var c=a.flashCopier;if(c==null){c=document.createElement("div");a.flashCopier=c;a.div.appendChild(c)}c.innerHTML='<embed src="'+dp.sh.ClipboardSwf+'" FlashVars="clipboard='+encodeURIComponent(d)+'" width="0" height="0" type="application/x-shockwave-flash"></embed>'}}alert("The code is in your clipboard now")}},PrintSource:{label:"print",func:function(b,a){var c=document.createElement("IFRAME");var d=null;c.style.cssText="position:absolute;width:0px;height:0px;left:-500px;top:-500px;";document.body.appendChild(c);d=c.contentWindow.document;dp.sh.Utils.CopyStyles(d,window.document);d.write('<div class="'+a.div.className.replace("collapsed","")+' printing">'+a.div.innerHTML+"</div>");d.close();c.contentWindow.focus();c.contentWindow.print();alert("Printing...");document.body.removeChild(c)}},About:{label:"?",func:function(a){var b=window.open("","_blank","dialog,width=300,height=150,scrollbars=0");var c=b.document;dp.sh.Utils.CopyStyles(c,window.document);c.write(dp.sh.Strings.AboutDialog.replace("{V}",dp.sh.Version));c.close();b.focus()}}};dp.sh.Toolbar.Create=function(a){var b=document.createElement("DIV");return b};dp.sh.Toolbar.Command=function(a,b){var c=b;while(c!=null&&c.className.indexOf("dp-highlighter")==-1){c=c.parentNode}if(c!=null){dp.sh.Toolbar.Commands[a].func(b,c.highlighter)}};dp.sh.Utils.CopyStyles=function(a,d){var b=d.getElementsByTagName("link");for(var c=0;c<b.length;c++){if(b[c].rel.toLowerCase()=="stylesheet"){a.write('<link type="text/css" rel="stylesheet" href="'+b[c].href+'"></link>')}}};dp.sh.Utils.FixForBlogger=function(a){return(dp.sh.isBloggerMode==true)?a.replace(/<br\s*\/?>|&lt;br\s*\/?&gt;/gi,"\n"):a};dp.sh.RegexLib={MultiLineCComments:new RegExp("/\\*[\\s\\S]*?\\*/","gm"),SingleLineCComments:new RegExp("//.*$","gm"),SingleLinePerlComments:new RegExp("#.*$","gm"),DoubleQuotedString:new RegExp('"(?:\\.|(\\\\\\")|[^\\""\\n])*"',"g"),SingleQuotedString:new RegExp("'(?:\\.|(\\\\\\')|[^\\''\\n])*'","g")};dp.sh.Match=function(c,a,b){this.value=c;this.index=a;this.length=c.length;this.css=b};dp.sh.Highlighter=function(){this.noGutter=false;this.addControls=true;this.collapse=false;this.tabsToSpaces=true;this.wrapColumn=80;this.showColumns=true};dp.sh.Highlighter.SortCallback=function(b,a){if(b.index<a.index){return -1}else{if(b.index>a.index){return 1}else{if(b.length<a.length){return -1}else{if(b.length>a.length){return 1}}}}return 0};dp.sh.Highlighter.prototype.CreateElement=function(b){var a=document.createElement(b);a.highlighter=this;return a};dp.sh.Highlighter.prototype.GetMatches=function(d,c){var b=0;var a=null;while((a=d.exec(this.code))!=null){this.matches[this.matches.length]=new dp.sh.Match(a[0],a.index,c)}};dp.sh.Highlighter.prototype.AddBit=function(e,c){if(e==null||e.length==0){return}var d=this.CreateElement("SPAN");e=e.replace(/ /g,"&nbsp;");e=e.replace(/</g,"&lt;");e=e.replace(/\n/gm,"&nbsp;<br>");if(c!=null){if((/br/gi).test(e)){var a=e.split("&nbsp;<br>");for(var b=0;b<a.length;b++){d=this.CreateElement("SPAN");d.className=c;d.innerHTML=a[b];this.div.appendChild(d);if(b+1<a.length){this.div.appendChild(this.CreateElement("BR"))}}}else{d.className=c;d.innerHTML=e;this.div.appendChild(d)}}else{d.innerHTML=e;this.div.appendChild(d)}};dp.sh.Highlighter.prototype.IsInside=function(a){if(a==null||a.length==0){return false}for(var b=0;b<this.matches.length;b++){var d=this.matches[b];if(d==null){continue}if((a.index>d.index)&&(a.index<d.index+d.length)){return true}}return false};dp.sh.Highlighter.prototype.ProcessRegexList=function(){for(var a=0;a<this.regexList.length;a++){this.GetMatches(this.regexList[a].regex,this.regexList[a].css)}};dp.sh.Highlighter.prototype.ProcessSmartTabs=function(f){var b=f.split("\n");var a="";var g=4;var d="\t";function h(j,p,n){var o=j.substr(0,p);var m=j.substr(p+1,j.length);var k="";for(var l=0;l<n;l++){k+=" "}return o+k+m}function e(i,k){if(i.indexOf(d)==-1){return i}var l=0;while((l=i.indexOf(d))!=-1){var j=k-l%k;i=h(i,l,j)}return i}for(var c=0;c<b.length;c++){a+=e(b[c],g)+"\n"}return a};dp.sh.Highlighter.prototype.SwitchToList=function(){var e=this.div.innerHTML.replace(/<(br)\/?>/gi,"\n");var j=e.split("\n");if(this.addControls==true){this.bar.appendChild(dp.sh.Toolbar.Create(this))}if(this.showColumns){var a=this.CreateElement("div");var c=this.CreateElement("div");var b=10;var d=1;while(d<=150){if(d%b==0){a.innerHTML+=d;d+=(d+"").length}else{a.innerHTML+="&middot;";d++}}c.className="columns";c.appendChild(a);this.bar.appendChild(c)}for(var d=0,h=this.firstLine;d<j.length-1;d++,h++){var g=this.CreateElement("LI");var f=this.CreateElement("SPAN");g.className=(d%2==0)?"alt":"";f.innerHTML=j[d]+"&nbsp;";g.appendChild(f);this.ol.appendChild(g)}this.div.innerHTML=""};dp.sh.Highlighter.prototype.Highlight=function(d){function f(i){return i.replace(/^\s*(.*?)[\s\n]*$/g,"$1")}function g(i){return i.replace(/\n*$/,"").replace(/^\n*/,"")}function b(p){var j=dp.sh.Utils.FixForBlogger(p).split("\n");var o=new Array();var m=new RegExp("^\\s*","g");var l=1000;for(var k=0;k<j.length&&l>0;k++){if(f(j[k]).length==0){continue}var n=m.exec(j[k]);if(n!=null&&n.length>0){l=Math.min(n[0].length,l)}}if(l>0){for(var k=0;k<j.length;k++){j[k]=j[k].substr(l)}}return j.join("\n")}function e(i,k,j){return i.substr(k,j-k)}var h=0;if(d==null){d=""}this.originalCode=d;this.code=g(d);this.div=this.CreateElement("DIV");this.bar=this.CreateElement("DIV");this.ol=this.CreateElement("OL");this.matches=new Array();this.div.className="dp-highlighter";this.div.highlighter=this;this.bar.className="bar";this.ol.start=this.firstLine;if(this.CssClass!=null){this.ol.className=this.CssClass}if(this.collapse){this.div.className+=" collapsed"}if(this.noGutter){this.div.className+=" nogutter"}if(this.tabsToSpaces==true){this.code=this.ProcessSmartTabs(this.code)}this.ProcessRegexList();if(this.matches.length==0){this.AddBit(this.code,null);this.SwitchToList();this.div.appendChild(this.bar);this.div.appendChild(this.ol);return}this.matches=this.matches.sort(dp.sh.Highlighter.SortCallback);for(var c=0;c<this.matches.length;c++){if(this.IsInside(this.matches[c])){this.matches[c]=null}}for(var c=0;c<this.matches.length;c++){var a=this.matches[c];if(a==null||a.length==0){continue}this.AddBit(e(this.code,h,a.index),null);this.AddBit(a.value,a.css);h=a.index+a.length}this.AddBit(this.code.substr(h),null);this.SwitchToList();this.div.appendChild(this.bar);this.div.appendChild(this.ol)};dp.sh.Highlighter.prototype.GetKeywords=function(a){return"\\b"+a.replace(/ /g,"\\b|\\b")+"\\b"};dp.sh.BloggerMode=function(){dp.sh.isBloggerMode=true};dp.sh.HighlightAll=function(b,e,d,h,j,c){function g(p,m,o){var l=document.getElementsByTagName(o);for(var n=0;n<l.length;n++){if(l[n].getAttribute("name")==m){p.push(l[n])}}}var a=[];var k=Array.prototype.slice.call(arguments,1);g(a,b,"pre");g(a,b,"textarea");for(var f=0;f<a.length;f++){dp.sh.Highlight.apply(dp.sh,[a[f]].concat(k))}};dp.sh.Highlight=function(g,e,d,k,m,b){function i(){var t={};var q;var s;for(var r in dp.sh.Brushes){q=dp.sh.Brushes[r].Aliases;if(!q){continue}for(s=0;s<q.length;s++){t[q[s]]=r}}return t}function h(){var q=arguments;for(var r=0;r<q.length;r++){if(!q[r]){continue}if(typeof(q[r])=="string"){return q[r]+""}if(typeof(q[r])=="object"&&q[r].value){return q[r].value+""}}return null}function o(s,r){for(var q=0;q<r.length;q++){if(r[q]==s){return true}}return false}function n(r,v,q){var t=new RegExp("^"+r+"\\[(\\w+)\\]$","gi");var u;for(var s=0;s<v.length;s++){u=t.exec(v[s]);if(u){return u[1]}}return q}function a(q){var r=document.getElementsByTagName("head")[0];if(q.Style&&r){var s=document.createElement("style");s.setAttribute("type","text/css");if(s.styleSheet){s.styleSheet.cssText=q.Style}else{var t=document.createTextNode(q.Style);s.appendChild(t)}r.appendChild(s)}}var l;var c=i();var j="innerHTML";var p=h(g.attributes["class"],g.className,g.attributes.language,g.language);var f="";if(!p){return}p=p.split(":");f=p[0].toLowerCase();if(!c[f]){return}l=new dp.sh.Brushes[c[f]]();g.style.display="none";l.noGutter=typeof e=="undefined"?o("nogutter",p):!e;l.addControls=typeof d=="undefined"?!o("nocontrols",p):d;l.collapse=typeof k=="undefined"?o("collapse",p):k;l.showColumns=typeof b=="undefined"?o("showcolumns",p):b;if(!dp.sh.InjectedStyles[f]){a(l);dp.sh.InjectedStyles[f]=true}l.firstLine=typeof m=="undefined"?parseInt(n("firstline",p,1),10):m;l.Highlight(g[j]);l.source=g;g.parentNode.insertBefore(l.div,g)};
jive.model.TaskController=function(){var f=this;var l=null;this.getProjectID=function(){return this.projectID};this.setProjectID=function(n){this.projectID=n};this.getCanCreate=function(){return this.canCreate};this.setCanCreate=function(n){this.canCreate=n};var j=null;this.getContainerID=function(){return this.containerID};this.setContainerID=function(n){this.containerID=n};var g=null;this.getCompleteURL=function(){return this.completeURL};this.setCompleteURL=function(n){this.completeURL=n};var c=null;this.getIncompleteURL=function(){return this.incompleteURL};this.setIncompleteURL=function(n){this.incompleteURL=n};var h=null;this.getTakeURL=function(){return this.takeURL};this.setTakeURL=function(n){this.takeURL=n};var i=null;this.getDeleteURL=function(){return this.deleteURL};this.setDeleteURL=function(n){this.deleteURL=n};var k=null;this.getDeleteConfirmMsg=function(){return this.deleteConfirmMsg};this.setDeleteConfirmMsg=function(n){this.deleteConfirmMsg=n};var d=null;this.getUnauthMsg=function(){return this.unauthMsg};this.setUnauthMsg=function(n){this.unauthMsg=n};var e=null;this.getErrorMsg=function(){return this.errorMsg};this.setErrorMsg=function(n){this.errorMsg=n};var a=null;this.setCreateURL=function(n){this.createURL=n};this.getCreateURL=function(){return this.createURL};var b=null;this.setDateI18nURL=function(n){this.dateI18nURL=n};this.getDateI18nURL=function(){return this.dateI18nURL};var m={delete_task_msg:"This action will delete the task and all it's subtask. Are you sure?",delete_task:"Delete Task",delete_sub_task:"Delete Sub Tasks",cancel:"Cancel",complete_task_msg:"This action will complete the task and all it's subtask. Are you sure?",complete_task:"Complete Task",complete_sub_task:"Complete Sub Tasks",incomplete_task_msg:"This action will mark the task and all it's subtask as incomplete. Are you sure?",incomplete_task:"Mark I",complete_sub_task:"Complete Sub Tasks",assign_task_msg:"This action will assign this task and all it's subtask. Are you sure?",assign_task:"Assign Task",assign_sub_task:"Assign Sub Tasks"};this.setI18n=function(n){m=n};this.markTaskComplete=function(o,n){if(n){$j("#dialog-confirm-message").text(m.complete_task_msg);$j(function(){var p={};p[m.complete_task]=function(){$j(this).dialog("close");f.ajaxCompleteTask(o,false)};p[m.complete_sub_task]=function(){$j(this).dialog("close");f.ajaxCompleteTask(o,true)};p[m.cancel]=function(){$j(this).dialog("close")};$j("#dialog-confirm").dialog({autoOpen:false,resizable:false,height:150,width:400,modal:true,buttons:p});$j("#dialog-confirm").dialog("open")})}else{f.ajaxCompleteTask(o,false)}};this.markTaskIncomplete=function(n){$j.post(this.getIncompleteURL(),{task:n},f.reload)};this.takeTask=function(n){$j.ajax({url:this.getTakeURL(),type:"POST",data:{task:n},success:function(){f.reload()},error:function(o){if(o.status==403){alert(f.getUnauthMsg())}else{if(o.status==500){alert(f.getErrorMsg())}}}})};this.deleteTask=function(o,n){if(n){$j("#dialog-confirm-message").text(m.delete_task_msg);$j(function(){var p={};p[m.delete_task]=function(){$j(this).dialog("close");f.ajaxDeleteTask(o,false)};p[m.delete_sub_task]=function(){$j(this).dialog("close");f.ajaxDeleteTask(o,true)};p[m.cancel]=function(){$j(this).dialog("close")};$j("#dialog-confirm").dialog({autoOpen:false,resizable:false,height:150,width:400,modal:true,buttons:p});$j("#dialog-confirm").dialog("open")})}else{f.ajaxDeleteTask(o,false)}};this.ajaxCompleteTask=function(o,n){$j.ajax({url:f.getCompleteURL(),type:"POST",data:{task:o,applyToChildren:n},success:function(){f.reload()},error:function(p){if(p.status==403){alert(f.getUnauthMsg())}else{if(p.status==500){alert(f.getErrorMsg())}}}})};this.addTask=function(n){document.location.href=f.getCreateURL()+"&dueDateTime="+n};this.dateI18nTask=function(n,o){$j.ajax({url:f.getDateI18nURL(),type:"POST",data:{time:n.getTime()},dataType:"json",success:function(q,p){o(q.date)},error:function(p){if(p.status==403){alert(f.getUnauthMsg())}else{if(p.status==500){alert(f.getErrorMsg())}}}})};this.ajaxDeleteTask=function(o,n){$j.ajax({url:f.getDeleteURL(),type:"POST",data:{task:o,applyToChildren:n},success:function(){f.reload()},error:function(p){if(p.status==403){alert(f.getUnauthMsg())}else{if(p.status==500){alert(f.getErrorMsg())}}}})};this.reload=function(){window.location.reload()}};
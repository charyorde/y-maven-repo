jive.model.WidgetLoader=function(){var b=this;var a=new Array();this.addWidget=function(c){a.push(c)};this.renderAll=function(){a.each(function(c){$j("#jive-widgetframe-body_"+c.frameID).load(c.renderWidgetAction,{frameID:c.frameID,size:c.size,widgetType:c.widgetType,container:c.container,containerType:c.containerType},function(){$j("#jive-widgetframe-loading_"+c.frameID).hide();$j("#jive-widgetframe-body_"+c.frameID).show();$j("#jive-widgetframe-refresh_"+c.frameID).show();b.refreshLink(c);$j("#jive-widgetframe_"+c.frameID).trigger("frameLoaded")})})};this.refreshLink=function(c){$j("#jive-widgetframe-refresh-link_"+c.frameID).click(function(){$j("#jive-widgetframe-loading_"+c.frameID).show();$j("#jive-widgetframe-body_"+c.frameID).hide();b.refresh(c)})};this.refresh=function(c){$j("#jive-widgetframe-body_"+c.frameID).load(c.renderWidgetAction,{frameID:c.frameID,size:$j("#jive-widgetframe-body_"+c.frameID).parent().hasClass("jive-widgetsize-large")?2:1,widgetType:c.widgetType,container:c.container,containerType:c.containerType},function(){$j("#jive-widgetframe-loading_"+c.frameID).hide();$j("#jive-widgetframe-body_"+c.frameID).show();$j("#jive-widgetframe_"+c.frameID).trigger("frameLoaded")})}};var widgetLoader=new jive.model.WidgetLoader();$j(function(){widgetLoader.renderAll()});
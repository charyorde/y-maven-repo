jive.Collapsable=jive.oo.Class.extend(function(a){var b=jQuery;this.collapsable=function(d){var c=this;this.availableWidth=d.availableWidth;this.resizableElement=d.element;this.shrinkable=d.shrinkable;this.shrunken=false;b(function(){c.recollapse();var e;b(window).bind("resize",function(){clearTimeout(e);e=setTimeout(c.collapseIfNecessary.bind(c),100)});c.collapseIfNecessary()})};this.recollapse=function(){var c=b(this.resizableElement);this.largeWidth=c.toArray().reduce(function(d,f){return d+b(f).width()},0);if(this.shrunken){this.shrinkStuff(0,c)}this.collapseIfNecessary()};a.collapseIfNecessary=function(){var c=this.availableWidth();if(!this.shrunken&&c<this.largeWidth){this.shrinkStuff();this.shrunken=true}else{if(this.shrunken&&c>=this.largeWidth){this.expandStuff();this.shrunken=false}}};a.shrinkStuff=function(e,c){var d=b(c||this.resizableElement);d.find(this.shrinkable).each(function(){b(this).width(b(this).width())}).wrap('<span class="js-shrunk" style="overflow-x:hidden; white-space:nowrap;" />').parent().animate({width:"1px"},e,function(){b(this).hide()})};a.expandStuff=function(){var d=b(this.resizableElement),c=this;d.find(".js-shrunk").each(function(){var f=b(this),e=f.children(),g=e.width();f.show().animate({width:g},function(){e.filter(":first").unwrap()})})}});
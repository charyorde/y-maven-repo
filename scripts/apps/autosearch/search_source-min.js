define("jive.component.autosearch.SearchSource",["jquery"],function(a){return jive.DeferredRestService.extend(function(b){b.resourceType="search";this.init=function(c){this.RESOURCE_ENDPOINT=_jive_base_url+"/api/core/v3/search"};this.createParams=function(c,g,e,f,i){var h={};h.sort=e;h.count=f;h.filter=[];if(g){for(var d in g){h.filter.push(d+"("+g[d]+")")}}if(c){h.filter.push("search("+c+")")}return h};this.query=function(f,c,h,e,g,j){var i=this.createParams(c,h,e,g,j);if(f==="contents"){i.collapse=true}var d=this.RESOURCE_ENDPOINT+"/"+f;return this.commonAjaxRequest(new a.Deferred(),"GET",{url:d,data:i})}})});
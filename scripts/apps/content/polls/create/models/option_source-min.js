jive.namespace("content.polls");jive.content.polls.OptionSource=function(k){var i=k.pollID,d=k.pollOptions,a=jive.rest.url("/polls"),g=a+"/"+i+"/pollOptions";function j(l){if(typeof l=="function"){l={success:l}}return l}function h(l){l=j(l);$j.ajax({type:"POST",url:g,async:false,dataType:"json",data:{},success:function(m){if(typeof l.success=="function"){d.push(m);l.success.call(i,m)}},error:function(m){if(typeof l.error=="function"){l.error.call(i,m)}}})}function c(n,m,l){l=j(l);$j.ajax({type:"POST",url:g+"/"+n.id+"/index",dataType:"json",async:false,data:{index:m},success:function(o){if(typeof l.success=="function"){d=o;l.success.call(i,o)}},error:function(o){if(typeof l.error=="function"){l.error.call(i,o)}}})}function f(m,l){l=j(l);$j.ajax({type:"DELETE",url:g+"/"+m.id,dataType:"json",async:false,data:{},success:function(n){if(typeof l.success=="function"){d=n;l.success.call(i,d)}},error:function(n){if(typeof l.error=="function"){l.error.call(i,n)}}})}function e(l){l=j(l);if(typeof l.success=="function"){l.success.call(i,d)}return this}function b(m,l){l=j(l);d.forEach(function(n){if(n.id==m){l.success.call(i,n)}});return this}this.getAll=e;this.move=c;this.newOption=h;this.remove=f;this.get=b};
jive.namespace("content.polls");jive.content.polls.OptionView=function(d,l){jive.conc.observable(this);var i,g,j=l.edit,h=this;function e(){$j(d).fadeOut();h.emit("remove",i);return this}function c(){$j(d).fadeIn()}function b(){$j(d).remove()}function f(){var n=$j(d).find(".j-choice").val();if($j("#jive-modal-delete-poll-option-"+i).length>0){$j("#jive-modal-delete-poll-option-"+i).remove()}var m=jive.polls.option.soy.deletePrompt({optionID:i,optionText:n});$j("#jive-poll-options").append($j(m));$j("#jive-modal-delete-poll-option-"+i).lightbox_me({closeSelector:".jive-modal-close, .close"});$j("#poll-option-delete-submit-button-"+i).click(function(){h.remove()})}function a(m){g=m;($j(d).find(".jive-opt-index")).val(m);($j(d).find(".js-poll-option-count").html(++m));return this}function k(){return $j(d)}this.remove=e;this.promptRemove=f;this.removeSuccess=b;this.removeError=c;this.getDOMElement=k;this.setIndex=a;$j(document).ready(function(){i=($j(d).attr("id")||"").split("-").last();g=($j(d).find(".jive-opt-index")).val();$j(d).find(".poll-option-delete").click(function(){if(j){f()}else{e()}return false})})};
jive.namespace("PollWidget");jive.PollWidget.WidgetSource=function(k){var j=k.containerID,i=k.containerType,a=jive.rest.url("/polls"),h=a+"/",g=a+"/"+i+"/"+j+"/",e;function f(l){if(typeof l=="function"){l={success:l}}return l}function d(m,l){l=f(l);$j.ajax({type:"GET",contentType:"application/json; charset=utf-8",url:g+m,dataType:"json",success:function(n){if(typeof l.success=="function"){e=n;l.success.call(m,e)}},error:function(n){if(typeof l.error=="function"){l.error.call(e,n)}}})}function b(m,l){l=f(l);$j.ajax({type:"GET",contentType:"application/json; charset=utf-8",url:h+m+"/getBean",dataType:"json",success:function(n){if(typeof l.success=="function"){e=n;l.success.call(m,e)}},error:function(n){if(typeof l.error=="function"){l.error.call(e,n)}}})}function c(n,m,l){l=f(l);$j.ajax({type:"POST",url:h+n+"/votes",dataType:"json",data:{optionID:m},success:function(o){if(typeof l.success=="function"){e=o;l.success.call(n,e)}},error:function(o){if(typeof l.error=="function"){l.error.call(e,o)}}})}this.getPoll=d;this.getPollByID=b;this.vote=c};
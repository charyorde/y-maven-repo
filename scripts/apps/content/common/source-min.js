jive.namespace("content.common");jive.content.common.Model=jive.RestService.extend(function(b,e){this.init=function f(g){b.resourceType=g.resourceType;b.pluralizedResourceType=g.resourceType;e.init.call(this,g);this.options=$j.extend({ajaxType:g.method||"POST",ajaxSettings:{contentType:"application/json; charset=utf-8"}},g)};this.save=function d(i,h){h=$j.extend({},this.options,h);var j=i.formAction||h.suffix||"";var g=this.RESOURCE_ENDPOINT+j;var k=new jive.conc.Promise();var l=i.formMethod||h.ajaxType;define(["jive.RestService"],function(m){var n=new (m.extend(function(o){o.saveUrl=function(p){return g};o.saveMethod=function(p){return l}}))();k.proxy(n.save(i))});return k};this.saveMultipart=function a(i,h){h=$j.extend({},this.options,h);h.ajaxType="POST";var j=i.data("formaction")||h.suffix||"";var g=this.RESOURCE_ENDPOINT+j;var k=new jive.conc.Promise();define(["jive.FileUploader"],function(m){var l=new (m.extend(function(n){n.saveUrl=function(o){return g}}))();k.proxy(l.save(i))});return k};this.unload=function c(i,h){h=$j.extend(this.options,h);var j=i.formAction||h.suffix||"";var g=this.RESOURCE_ENDPOINT+j;var k="POST";return this.commonAjaxRequest(new jive.conc.Promise(),k,$j.extend({url:g,data:JSON.stringify(i),async:false},h.ajaxSettings))}});
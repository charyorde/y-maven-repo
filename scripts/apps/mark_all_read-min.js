jive.MarkAllRead=function(c,a){function b(d){return Object.keys(d).sort().map(function(e){if(e=="page"){return[["start",(d.page-1)*d.per_page]]}else{if(e=="per_page"){return[["range",d.per_page],["numResults",d.per_page]]}else{if($j.isArray(d[e])){return d[e].map(function(f){return[e,f]})}else{return[[e,d[e]]]}}}}).flat().filter(function(e){return e[1]||e[1]===0}).map(function(e){return e.join("=")}).join("&")}$j(document).delegate(".mark-all-read","submit",function(e){var d=this,f=$j.extend({markAllRead:true},a.get_parameters());$j.ajax({url:c,type:"GET",data:b(f),dataType:"html",success:function(){$j(".mark-all-read :submit").prop("disabled",true);a.update()}});e.preventDefault()});$j(document).delegate(".mark-all-read a.submit","click",function(d){$j(this).parents("form").trigger("submit");d.preventDefault()})};
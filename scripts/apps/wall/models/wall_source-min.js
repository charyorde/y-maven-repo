jive.namespace("Wall");if(!jive.Wall.WallSource){jive.Wall.WallSource=function(c){var g=c.containerType,b=c.containerId,e=jive.rest.url("/wall"),d=e+"/"+g+"/"+b,f=d+"/draft",a={type:"POST",contentType:"application/json; charset=utf-8",dataType:"json"};this.createDraft=function(i){var h=$j.extend({url:f,data:"{wallentry: {}}",success:function(j){i(j.wallentry)},error:function(k){var j=JSON.parse(k.responseText)}},a);$j.ajax(h)};this.publish=function(k,l,h){var j={wallentry:k};var i=$j.extend({url:d,data:JSON.stringify(j),success:function(m){if(m.wallentry.message){m.wallentry.message=m.wallentry.message.replace(/<\/?body>/gi,"")}m.wallentry=jive.Wall.VideoLinkMetaSource.normalizeData(m.wallentry);l(m.wallentry)},error:function(n){try{var m=JSON.parse(n.responseText);h(m.error.message)}catch(o){h()}}},a);$j.ajax(i)}}};
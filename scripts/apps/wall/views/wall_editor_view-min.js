jive.namespace("Wall");if(!jive.Wall.EditorView){jive.Wall.EditorView=function(a,b){var e=this;var g=$j(a);var d=new jive.shared.NotificationView(b.notificationContainer,{info:".jive-info-box:first",warn:".jive-warn-box:first",error:".jive-error-box:first"});var f=new jive.shared.FormWaitingView(g,{containerPadding:0});this.getContainer=function(){return g};this.entryPublished=function(h){this.dismissStatusSuccess();var j=g.parent();var i=g.closest("div.jive-userbar-slidedown-status");if(i.length>0){i.find("div.j-wall-form").children().fadeOut().hide();i.find("div#jive-choose-form-links").fadeOut().hide();j=i.find("div.j-wall-form-container")}j.append(jive.wall.renderStatusSuccess({i18n:b.i18n,entry:h}));j.find(".j-success-post-dismiss").click(function(){e.dismissStatusSuccess()});j.find(".j-mb-last-update").hide();j.find(".j-successful-post").css("opacity","0").slideDown(500,function(){$j(this).animate({opacity:1},200);if(h.meta.length>0){$j(this).find(".jive-js-image-container").show().animate({opacity:1},500)}})};this.dismissStatusSuccess=function(){var h=g.parent().find(".j-successful-post");if(h.length>0){h.slideUp(null,function(){$j(this).remove()});var i=g.closest("div.jive-userbar-slidedown-status");if(i.length>0){i.slideUp()}}};this.entryPublishedRepost=function(j,i,k){this.dismissStatusSuccess();var h=j.find(".jive-modal-content");if(h.length>0){h.empty();h.append(jive.wall.renderStatusSuccess({i18n:b.i18n,entry:i}));h.find(".j-success-post-dismiss").click(function(){e.dismissStatusSuccessRepost(k)});h.find(".j-successful-post").css("opacity","0").slideDown(500,function(){$j(this).animate({opacity:1},200);if(i.meta.length>0){$j(this).find(".jive-js-image-container").show().animate({opacity:1},500)}})}};this.dismissStatusSuccessRepost=function(i){var h=g.find(".j-successful-post");if(h.length>0){h.slideUp(null,function(){$j(this).remove()})}i()};this.entryPublishedInfo=function(h){d.info(h)};this.entryPublishedWarn=function(h){d.warn(h)};this.entryPublishedError=function(h){d.error(h||b.i18n.formPostedError)};g.find("form.wall-form").find(":button").not(".close").click(function(){e.emit("submit");e.disableForm()});function c(h,i){jive.Wall.EditorView.handleCharacterLenMsg(h,i,g)}this.handleCharacterLenMsg=c;this.disableForm=function(){f.disableForm()};this.enableForm=function(){f.enableForm()}};jive.conc.observable(jive.Wall.EditorView.prototype);jive.Wall.EditorView.handleCharacterLenMsg=function(b,e,d){if(b=="error"){d.find(".j-wall-warn").hide();var c=null;if(e.charOver==1){d.find(".j-wall-error-over-many").hide();c=d.find(".j-wall-error-over-one")}else{d.find(".j-wall-error-over-one").hide();c=d.find(".j-wall-error-over-many")}c.find(".j-number-over").html(e.charOver);c.show()}else{if(b=="warning"){d.find(".j-wall-error-over-one").hide();d.find(".j-wall-error-over-many").hide();var a=d.find(".j-wall-warn");a.find(".j-number-left").html(e.charLeft);a.show()}else{if(b=="ok"){d.find(".j-wall-error-over-one").hide();d.find(".j-wall-error-over-many").hide();d.find(".j-wall-warn").hide()}}}}};
jive.namespace("Pager");jive.Pager.MainView=function(g,d){jive.conc.observable(this);var a=this,f=true,h=null;d=$j.extend({showLoadingIndicator:true},d||{});var e=(location.pathname+location.search).match(/^([^#]*)(#.*)?$/);e=e?e[1]:e;function c(j){var i,l,k;if(typeof(j.button)!="undefined"&&j.button!==0){return}i=$j(this).attr("href").match(/^(.*)(#\/.*)$/);k=i?i[1]:i;if(k==""){k=(location.pathname+location.search).match(/^(.*)(#\/.*)$/);k=k?k[1]:window.location.pathname}if(k!=e){return}l=i?i[2]:i;a.emit("click",l);j.preventDefault()}$j('[href*="#/"]').live("click",c);function b(){var k=$j(g),m=k.find("[tabindex]:first"),l=k.find("a:not([href^=#]):first"),j=k.find("a:first"),i=k.find(":input:not(:disabled):first");return([m,l,j,i].filter(function(n){return n.length>0}).first()||$j())}this.loading=function(){if(d.showLoadingIndicator&&!h){h=$j(jive.shared.soy.loading());$j(g).append(h)}};this.update=function(){b().focus();a.stopLoading()};this.stopLoading=function(){if(d.showLoadingIndicator&&h){h.remove();h=null}};this.unload=function(){$j('[href*="#/"]').die("click",c)}};
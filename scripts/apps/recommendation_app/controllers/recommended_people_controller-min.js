jive.namespace("RecommendationApp").RecommendedPeopleController=function(c,i){var j=jive.conc.observable({}),d=new jive.RecommendationApp.Controller(i),h=0,f=d.getBody;function e(m){var l=$j(jive.eae.recommendation.notInterestedNotification({}));m.fadeOut("fast",function(){m.html(l);m.fadeIn(400,function(){setTimeout(function(){m.fadeOut(400,function(){m.remove();if(!h){i.fadeOut("fast")}})},2000)})})}function g(l,n){l(n.id,n.objectType);var m=f("[data-recommendation-id="+n.id+"]");h--;e(m);j.emit("invalidateCache")}function b(l){d.getBody().html(jive.eae.recommendation.recommendedPeople({recommendations:l}));h=f("li.j-js-recommendation").length}function a(l){$popover=l.$target.attr("data-event","closeWhy").closest(".j-js-recommendation").find(".j-insights").show().popover({context:l.$target,darkPopover:true,putBack:true,destroyOnClose:false,onClose:function(){$popover=undefined;k(l)}})}function k(l){l.$target.attr("data-event","why")}j.isPopulated=function(){return h>0};j.notify=function(l,m){if(l==="newRecommendations"){b(m)}return j};d.addListener("dislike",g.partial(c.expressDislike.bind(c))).addListener("why",a).addListener("closeWhy",k);return j};
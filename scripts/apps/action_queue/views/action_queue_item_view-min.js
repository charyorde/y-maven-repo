jive.namespace("ActionQueue");jive.ActionQueue.ListItemView=jive.AbstractView.extend(function(a,b){this.init=function(c){b.init.call(this,c);this.itemID=c.itemID;this.creationDate=c.creationDate};a.getSoyTemplate=function(c){return jive.eae.actionqueue.actionQueueItemView(c)};this.postRender=function(){var c=this,d=c.getContent();d.find(".j-action-button").unbind();d.find(".j-action-button").click(function(j){var f=$j(this).attr("name");if(!f){$j(".j-loading-bg").show();return}var g=parseInt(f),i=$j(this),h="";c.emitP("performAction",c.itemID,g,h);j.preventDefault()});d.find(".j-actionQ-detail-show, .j-actionQ-detail-hide").unbind();d.find(".j-actionQ-detail-show").click(function(){d.find(".j-aq-detail").slideDown("fast",function(){d.find(".j-actionQ-detail-show").hide();d.find(".j-actionQ-detail-hide").fadeIn("fast")})});d.find(".j-actionQ-detail-hide").click(function(){d.find(".j-aq-detail").slideUp("fast",function(){d.find(".j-actionQ-detail-hide").hide();d.find(".j-actionQ-detail-show").fadeIn("fast")})})};this.actionTaken=function(e){var c=this,d=c.getContent();if(e.templateData&&e.templateData.template){if(typeof e.templateData.overrideFadeout=="undefined"||(typeof e.templateData.overrideFadeout!="undefined"&&!e.templateData.overrideFadeout)){d.fadeOut("fast",function(){if(e.templateData&&e.templateData.template){$resultOutput=$j(jive.eae.actionqueue.actionQueueItemActionResult({data:e}));d.html($resultOutput);d.addClass("j-aq-processed");d.fadeIn("fast",function(){window.setTimeout(function(){d.fadeOut("fast",function(){d.remove();c.emit("actionCompleted",{itemID:c.itemID})})},e.notificationTimeout)})}else{d.remove();c.emit("actionCompleted",{itemID:c.itemID})}})}else{$resultOutput=$j(jive.eae.actionqueue.actionQueueItemActionResult({data:e}));d.html($resultOutput);d.find(".j-action-result").removeClass("j-action-result");c.emit("actionCompleted",{itemID:c.itemID})}}else{d.fadeOut("fast",function(){d.remove();c.emit("actionCompleted",{itemID:c.itemID})})}};this.getID=function(){return this.itemID};this.getCreationDate=function(){return this.creationDate}});
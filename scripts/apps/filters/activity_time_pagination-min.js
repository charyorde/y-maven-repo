jive.namespace("Filters");jive.Filters.ActivityTimePagination=jive.Filters.Main.extend(function(a,b){var c=jQuery,d;a.init=function(f){this.pageReferences={};this.emptyPageReference={activityTime:d};b.init.apply(this,arguments);this.setPageReferences({items:{length:f.numResults},pageNumber:f.pageNumber,paginationStrategy:f.paginationStrategy,activityTime:f.activityTime})};a.setPageReferences=function(g){var f=g.items.length,h=g.pageNumber,i=this.pageToStart(h,f);if(g.paginationStrategy=="time"&&g.activityTime){this.pageReferences[i+f]={activityTime:g.activityTime}}};a.getPageReference=function(f){return this.pageReferences[f]||this.emptyPageReference};a.getContent=function(i){var g,h,f=this;if(this.historyView(i.filterID)){g=c.extend({},i,this.getPageReference(i.start));h=b.getContent.call(this,g)}else{h=b.getContent.call(this,i)}h.addCallback(function(j){f.setPageReferences(j)});return h};var e=/historyarchetype\[.+\]/;a.historyView=function(f){if(typeof f=="string"){return Boolean(f.match(e))}else{return f.some(function(g){return g.match(e)})}}});
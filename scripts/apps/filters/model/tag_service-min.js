jive.namespace("Filters");jive.Filters.TagService=jive.RestService.extend(function(a,c){a.resourceType="tag";var b={};a.init=function(d){c.init.call(this,d);this.RESOURCE_ENDPOINT=jive.rest.url("/tags/cloud");this.defaultParams=d};this.findAll=function(j){j=jQuery.extend({},this.defaultParams,j||{});var e=j.max,d={},f=this.cacheKey(j),h=b[f],i=new jive.conc.Promise(),g=this;if(h){i.emitSuccess(h)}else{Object.keys(j).forEach(function(k){if(k!="max"){d[k]=j[k]}});this.get(e,d).addCallback(function(l){var k=l.contentTagCloudBean;b[f]=k;i.emitSuccess(k)}).addErrback(function(){i.emitError.apply(i,arguments)})}return i};a.cacheKey=function(d){return Object.keys(d).sort().map(function(e){return e+"="+JSON.stringify(d[e])}).join("&")}});
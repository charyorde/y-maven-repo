jive.namespace("Filters");jive.Filters.TagSuggestionsView=jive.Filters.Suggestions.extend(function(a,b){var c=jQuery;this.render=function(e){var d=this;b.render.call(this,e);this.activeTab=null;this.tabView=new jive.TabView(this.content,{activeClass:"j-active",tabSelector:".js-tab"}).addListener("tabSwitch",function(f){d.html(d.html());d.resetSelection();d.activeTab=f})};this.html=function(e){var d;if(e&&!this.isVisible()){d=c(jive.browse.tagautocomplete.popoverContent());d.html(e);this.render(d)}else{return b.html.call(this,e)}};this.showRelatedTags=function(g,e,f){var d=this;jive.conc.synchronize({popularTags:g,yourTags:e,relatedTags:f}).addCallback(function(h){d.html(c(jive.browse.tagautocomplete.popularTags(c.extend({active:d.activeTab||null},h))))})};this.showCompletions=function(e){var d=this;this.activeTab=null;e.addCallback(function(f){d.html(c(jive.browse.tagautocomplete.completions(f)))})};a.emitSelection=function(){this.activeTab=null;return b.emitSelection.apply(this,arguments)}});
jive.namespace("ThreadToDoc");jive.ThreadToDoc.Main=jive.oo.Class.extend(function(a){a.init=function(c){var b=this;this.objectType=c.objectType;this.objectID=c.objectID;this.personalContainerTitleKey=c.personalContainerTitleKey;this.personalContainerCaptionKey=c.personalContainerCaptionKey;this.searchPlaceholderKey=c.searchPlaceholderKey;this.containerType=c.containerType;this.containerID=c.containerID;this.maxMessages=c.maxMessages;this.threadMessageCount=c.threadMessageCount;this.threadToDocView=new jive.ThreadToDoc.ThreadToDocView();this.threadToDocView.addListener("browse",function(e){if(b.threadMessageCount>b.maxMessages){b.threadToDocView.maxMessagesExceeded(e)}else{var d=new jive.ThreadToDoc.ThreadToDocSource();d.save({threadID:b.objectID,containerType:b.containerType,containerID:b.containerID}).addCallback(function(f){window.location=f})}})}});
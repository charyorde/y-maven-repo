jive.namespace("AskAQuestion");jive.AskAQuestion.View=jive.AbstractView.extend(function(a){var c=jQuery,b=jive.AskAQuestion;a.init=function(e){var d=this;this.frame=c("#jive-widgetframe_"+e.widgetFrameID);this.searchElem=this.frame.find(".ask-a-question-search");this.container=this.frame.find(".ask-a-question-container");c(function(){var g=d.container.find("form");new jive.Validator({form:g});var f=function(){var i=d.searchElem.val();if(i){d.emit("search",i)}};var h=d.container.find("input");h.placeHeld();h.keyup(function(){clearTimeout(c.data(this,"timer"));var i=setTimeout(f,500);c(this).data("timer",i)});g.submit(function(j){if(j.isDefaultPrevented()){return}var i=c(this).prop("action")+"&subject="+d.searchElem.val();if(typeof loginApp==="undefined"){window.location.href=i}else{d.emit("referrer",i);c("#navLogin").click()}j.preventDefault()})})};this.success=function(f){var e=jive.widget.askaquestion.results({bean:f});var d=this.frame.find(".ask-a-question-results");if(d.length){d.replaceWith(e)}else{c(this.container).find("button[type=submit]").before(e)}}});
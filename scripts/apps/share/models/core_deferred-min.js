define("jive.CoreV3.Deferred",["jquery","coreApiPrereqs"],function(a){return jive.oo.Class.extend(function(c){c.init=function(i){i=a.extend({},i,{logSuccess:false});c.logSuccess=i.logSuccess};function g(j,i){if(j.error){console.log("CoreV3 Request failed",j,this);i.reject(j,this)}else{if(c.logSuccess){console.log("CoreV3 Request succeeded",j)}if(j.list){i.resolve(j.list,j)}else{i.resolve(j)}}}function e(j,i){j.then(function(){i.resolve.apply(i,arguments)},function(){i.reject.apply(i,arguments)},function(){i.notify.apply(i,arguments)})}function f(j,i){if(!i){i=new a.Deferred()}j.execute(function(k){g(k,i)});return i.promise()}function d(j,i,k){if(k==null){k=[]}if(j.length<i.itemsPerPage){return k.concat(j)}else{return f(i.getNextPage()).pipe(function(m,l){return d(m,l,k.concat(j))})}}var b={3:"people",37:"places",600:"places",700:"places",14:"places"};this.getObject=function(j,i){var l=b[j];if(!l){l="contents"}var m=osapi.jive.corev3[l];var k=m.getByEntityDescriptor({entityDescriptor:j+","+i});return f(k).pipe(function(n){return n[0]})};this.runQuery=f;this.slurp=d;this.updateAll=function h(k){var i=this;var l=[];a.each(k,function(){l.push(this.update())});var j=[];a.each(l,function(){j.push(i.runQuery(this))});return a.when.apply(a,j)}})});
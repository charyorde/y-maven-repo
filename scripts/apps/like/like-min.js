jive.namespace("Like",(function(c,d){function b(k,j,e,h){var l=k.closest(".js-acclaim-container"),f=l.data("likes"),m={canLike:true,liked:j,objectId:h,objectType:e,type:l.data("type"),showIcon:l.data("showicon")};f+=j?1:-1;f=f<0?0:f;m.likeCount=f;switch(m.type){case"mini":k.closest(".j-js-liking-control").html(d(m));break;case"medium":l.data("likes",f).html(d(m));break;case"small":var g=$j(d($j.extend({showGlyph:true},m))),i=l.closest(".j-js-liking-control");if(i.length>0){i.replaceWith(g)}else{l.replaceWith(g)}break;default:throw"Unknown widget type"}}var a={};jive.dispatcher.listen(["like","unlike"],function(i,f,h){var e=i.objectType+"_"+i.objectId;if(a[e]){console.log("duplicate like request, ignoring",i,f,h);return}else{a[e]=true}var g=f==="like";c.setLiked(g,i.objectType,i.objectId).addCallback(function(){b($j(h),g,i.objectType,i.objectId);jive.switchboard.emit("acclaim.recorded",g,i.objectType,i.objectID)}).always(function(){delete a[e]})});return{}})(new jive.Liking.LikeSource({}),jive.eae.acclaim.likeControl));
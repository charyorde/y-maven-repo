jive.namespace("Liking");jive.Liking.LikeSource=jive.RestService.extend(function(a){jive.conc.observable(this);a.resourceType="acclaim";a.pluralizedResourceType=a.resourceType;this.getLikes=function(c,e){var d=this.RESOURCE_ENDPOINT+"/"+c+"/"+e+"/scoredisplay";var b="like";return this.commonAjaxRequest(new jive.conc.Promise(),"POST",{url:d,data:{ratingType:b}})};this.getLikeData=function(c,e){var d=this.RESOURCE_ENDPOINT+"/"+c+"/"+e;var b="like";return this.commonAjaxRequest(new jive.conc.Promise(),"GET",{url:d,data:{ratingType:b}})};this.setLiked=function(b,d,e){var c,g,h="like",j=1,k=new jive.conc.Promise();if(b){var f="";g={ratingType:h,voteValue:j};if(jive.Trial&&jive.Trial.Controller){var i=jive.Trial.Controller.getActiveQuestAndStep();if(i.activeQuestID=="1836538113"&&i.activeQuestStep==1){g.fromQuest=i.activeQuestID;k.addCallback(function(){jive.dispatcher.dispatch("trial.like.created");jive.dispatcher.dispatch("trial.updatePercentComplete")})}}c="/"+this.resourceType+"/"+d+"/"+e+"/addvote"}else{c="/"+this.resourceType+"/"+d+"/"+e+"/removevote";g={ratingType:h}}$j.post(jive.rest.url(c),g,function(){k.emitSuccess()});return k}});
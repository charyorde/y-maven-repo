jive.namespace("MicroBlogging");jive.MicroBlogging.MicroBloggingView=jive.MicroBlogging.CommonView.extend(function(A,B){this.init=function(C){this.options=C;B.init.call(this,C)};A.getSoyTemplate=function(C){return jive.statusinput.containers.microbloggingStatusInput(C)};this.createWaitingViewElem=function(){this.$waitingViewElem=this.getContent()};this.createFormElem=function(){var C=this.getContent();this.$formElem=C.find("form");this.$imageFormElem=C.find("div.j-meta-image-container form")};this.renderResponse=function(C){B.renderResponse.call(this,C);this.renderResponseCommon(C)};this.getDataFromDom=function(){return{"wallentry":{"message":this.normalizeData(),"visibility":this.getVisibilityVal()}}};this.getVisibilityVal=function(){var C=this.getContent().find('select[name="visibility"]').val();return C};this.handleAtMentionResult=function(H,E){var F=this;if(H&&H.split("-").length==2){var D=H.split("-")[0],G=H.split("-")[1];if(D!=3){var C=new jive.rte.EntitlementService({objectID:0,objectType:0,entitlement:"VIEW"});if(C&&D){C.checkEntitlement(D,G).addCallback(function(I){if(!I){var J="";if(D==700){J=jive.statusinput.mention_warnings.jsI18nHelper({key:"tinymce.jivemention.secret_group"})}else{J=jive.statusinput.mention_warnings.jsI18nHelper({key:"tinymce.jivemention.restricted_content"})}$j("<p>"+E+" "+J+"</p>").message({style:"warn"})}})}}}}})
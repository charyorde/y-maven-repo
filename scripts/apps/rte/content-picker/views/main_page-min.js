jive.namespace("rte.ContentPicker");jive.rte.ContentPicker.MainPage=function(f){var h=this;function d(o){var p;o.map(function(q){p=q+"-tab";$j("#"+p+" a").click(function(){jiveToggleTab(q,o.filter(function(r){return r!=q}));return false})})}function a(o){$j(o).submit(function(){var p=$j(this).find("input[type=text]").val();if(tinymce.isIE){window.setTimeout(function(){f.addWebLink(p)},1)}else{f.addWebLink(p)}return false})}function e(o){var q=$j(o),p="search-result-row-hover";q.mouseover(function(){$j(this).addClass(p)});q.mouseout(function(){$j(this).removeClass(p)})}function l(){$j(".jive-search-result-moreless a").click(function(){var p=$j(this).parents(".search-result-row").find(".jive-search-result-excerpt"),o=$j(this);if(p.is(":visible")){p.hide();o.html(i18nStrings.contentpickerShowExcerptLink)}else{p.show();o.html(i18nStrings.contentpickerHideExcerptText)}return false})}function k(){$j("[name=searchform]").submit(function(){var o=$j(this).find(":submit");o.prop("disabled",true);o.val(i18nStrings.globalSearching+"...");this.submit();return false})}function i(o){var p={};$j(o).find("input").each(function(q,r){p[r.name]=r.value});return p}function b(p,o){$j("."+o).removeClass(o);$j(p).addClass(o)}function c(o){if(o.length>100){o=o.substr(0,70)+"..."}return o}function m(p,q,o){$j(p).click(function(){var r,s;r=i(this);s=r.title;$j(this).find("input[name=result]").prop("checked",true);b(this,q);$j(o).html(c(s))})}function g(){m("#jive-search-results-content .search-result-row","search-result-row-select","#jive-search-selection-title")}function n(){m("#jive-history .search-result-row","history-row-select","#jive-history-selection-title")}function j(o,p){$j(o).submit(function(){var q=$j(this).find(".search-result-row:has(:checked)"),r=i(q);f.addContentMacro(r.objectType,r.objectID);return false})}d(["jive-web","jive-search","jive-history"]);a("#jive-web form");k();e(".search-result-row");l();g();n();j("#jive-insert-search-result, #jive-insert-history-result")};
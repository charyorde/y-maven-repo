jive.namespace("Navbar.Menu.Create");jive.Navbar.Menu.Create.TypeChooserView=jive.AbstractView.extend(function(a){var b=jQuery;this.getContent=function(){return this.content};this.getClass=function(){if(this.data&&!this.data.smallView){return"j-choose-type j-large-view"}else{return"j-choose-type j-small-view"}};this.getClassToRemove=function(){return"j-choose-type j-small-view j-large-view"};this.render=function(d){var c=b(jive.nav.menu.create.contentTypes(this.data||d)),f=new jive.conc.Promise(),e=this;e.$items=c.filter(".js-create-list");e.$items.find("a").click(function(){var h=b(this).attr("data-content-type"),g=!!b(this).attr("data-upload");e.showSpinner({size:"small",showLabel:false,context:b(this).parent("li")});if(h&&b(this).hasClass("js-createmenu-containerchooser")){e.emitP("contentType",h,g).always(function(){e.hideSpinner()});return false}});e.$items.find("a.quick").click(function(){var h=b(this).attr("data-content-type"),g=b(this).data("quick-create-url");e.emit("quickCreate",h,g);return false});e.flatFind(c,".js-use-small-menu").click(function(g){e.emit("toggleView",true);e.data.smallView=true;g.preventDefault()});e.flatFind(c,".js-use-large-menu").click(function(g){e.emit("toggleView",false);e.data.smallView=false;g.preventDefault()});this.content=c;this.data=this.data||d;f.emitSuccess();return f};a.flatFind=function(d,c){return d.find(c).andSelf().filter(c)}});
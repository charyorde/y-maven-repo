jive.namespace("Navbar.Menu.Apps");(function(){var a=null;jive.Navbar.Menu.Apps.animatedInstall=function(c,f){var b=$j.browser.msie&&$j.browser.version<9;if(c.iconAnimationStart&&!b){if(!a){a=new jive.Navbar.Menu.Apps.InstallAnimation();var d=new jive.AppInstanceSource();a.addListener("begin",function(g){d.findAll({}).addCallback(function(h){g.emitSuccess(h)}).addErrback(function(){g.emitError()})});a.addListener("destroy",function(){a=null});a.offset=f}a.install(c,a.offset);return a.getPromise()}else{var e=new jive.conc.Promise();e.emitError();return e}};jive.Navbar.Menu.Apps.whenAnimationStarts=function(){var b=new jive.conc.Promise();if(a&&!a.isAnimationRunning()){a.addListener("animation.app-icon.start",function(){b.emitSuccess();jive.switchboard.emit("app.install.animation.started")})}else{b.emitError()}return b};jive.Navbar.Menu.Apps.whenAnimationEnds=function(){var b=new jive.conc.Promise();if(a){a.addListener("destroy",function(){b.emitSuccess();jive.switchboard.emit("app.install.animation.ended")})}else{b.emitError()}return b}})();
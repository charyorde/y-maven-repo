jive.namespace("Navbar.Menu.Apps.Instances");jive.Navbar.Menu.Apps.Instances.Main=jive.Navbar.Menu.Main.extend(function(a,c){var b=jive.Navbar.Menu.Apps.Instances;this.init=function(e,g,f){c.init.call(this,e,g,f);var d=this;if(window.appContainer){window.appContainer.getMarketEvents().addListener("app_install",function(k,o){var n=o&&o.offset();if($j.isArray(k)){for(var m=0,j=k.length;m<j;++m){h(k[m])}}else{h(k)}function h(i){jive.Navbar.Menu.Apps.animatedInstall(i,n).addErrback(function(){d.invalidate();var l=jive.apps.container.renderMessage({messageKey:"appframework.app.installed"});$j("<p/>").html(l).message({style:"info"})})}});window.appContainer.getMarketEvents().addListener("show_app_detail",function(h){if(h&&h.appUUID){var i=jive.app.url({path:"/apps/market/marketapp/"})+h.appUUID;window.open(i)}})}jive.switchboard.addListener("apps_market.apps_have_changed",function(){d.invalidate()})};this.buildListView=function(d,f,e){return new b.ListView(d,f,e)};this.buildItemSource=function(){return new jive.AppInstanceSource()};a.sourceParams=function(){return{ts:new Date().getTime()}}});
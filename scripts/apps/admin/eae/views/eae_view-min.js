jive.namespace("EAEAdmin");jive.EAEAdmin.EAEView=jive.oo.Class.extend(function(a){jive.conc.observable(this);this.init=function(c){var b=this;var d;$j(document).ready(function(){$j("#total-progressbar").progressBar(0,{boxImage:"/images/progressbar.gif",barImage:"/images/progressbg_green.gif"});$j("#current-progressbar").progressBar(0,{boxImage:"/images/progressbar.gif",barImage:"/images/progressbg_green.gif"});f();e()});function e(){$j("#total-progressbar").fadeIn();$j("#current-progressbar").fadeIn();d=setInterval(f,1500)}function f(){b.emit("update-progress",function(i){if(i.totalTasks==i.currentTask&&i.totalSize==i.currentSize){clearInterval(d);$j("#total-progressbar").fadeOut();$j("#current-progressbar").fadeOut();$j("#in-progress-container").hide();$j("#completed-container").show()}var l=parseInt(i.totalTasks);var k=parseInt(i.currentTask);var g=parseInt(i.totalSize);var h=parseInt(i.currentSize);var j=l>0?Math.floor(100*k/l):0;var m=g>0?Math.floor(100*h/g):0;$j("#total-progress-info").find(".current-count").html(k);$j("#total-progress-info").find(".total-count").html(l);$j("#current-progress-info").find(".current-count").html(h);$j("#current-progress-info").find(".total-count").html(g);$j("#total-progressbar").progressBar(j,{boxImage:"/images/progressbar.gif",barImage:"/images/progressbg_green.gif"});$j("#current-progressbar").progressBar(m,{boxImage:"/images/progressbar.gif",barImage:"/images/progressbg_green.gif"})})}}});
jive.namespace("admin.conversion.settings");jive.admin.conversion.settings.Main=jive.oo.Class.extend(function(a){var b=jive.admin.conversion.settings;this.init=function(e){var d=this;this.view=new b.View(e);this.model=new b.Model(e);this.view.addListener("fullTest",function(f){d.model.test().addCallback(function(){f.next().empty().append(" Success!")}).addErrback(function(g){f.next().empty().append("Error: "+g)})}).addListener("serviceStats",function(f){var g=f.closest(".node-fieldset").find('input[name="processingNodes"]').val();d.model.serviceStats(g).addCallback(function(h){delete h.id;d.view.displayStats(h,f.closest(".node-fieldset"))})}).addListener("settingsSaved",function(f){d.model.saveSettings(f);d.view.saveSuccess(f.conversionEnabled=="true")}).addListener("testOfficeToPDF",function(g){var f=g.closest(".node-fieldset").find('input[name="processingNodes"]').val();d.model.testOfficeToPDF(f).addCallback(function(){g.next().empty().append("Success!")}).addErrback(function(h){g.next().empty().append("Error: "+h)})}).addListener("testPdfToSwf",function(g){var f=g.closest(".node-fieldset").find('input[name="processingNodes"]').val();d.model.testPdfToSwf(f).addCallback(function(){g.next().empty().append("Success!")}).addErrback(function(h){g.next().empty().append("Error: "+h)})})};a.checkStatus=function c(e,f,g){var d=this;g=g||{};if(f){setTimeout(function(){d.model.testStatus(e).addCallback(function(h){d.checkStatus(e,h.converting,h)})},2000)}else{d.view.displayTestResults(g)}}});
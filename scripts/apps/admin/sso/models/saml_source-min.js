jive.namespace("SSOAdminApp");jive.SSOAdminApp.SAMLModel=jive.RestService.extend(function(a){a.resourceType="admin/sso/saml";a.pluralizedResourceType=a.resourceType;this.save=function b(d){var c=this.RESOURCE_ENDPOINT+"/save/";return this.commonAjaxRequest(new jive.conc.Promise(),"POST",{url:c,data:Object.toJSON?Object.toJSON(d):JSON.stringify(d)})};this.loadMetadata=function(d){var c=this.RESOURCE_ENDPOINT+"/load-metadata?url="+soy.$$escapeUri(d.url);return this.commonAjaxRequest(new jive.conc.Promise(),"GET",{url:c})};this.downloadKeystore=function(d){var c=this.RESOURCE_ENDPOINT+"/keystore";$j("#download-keystore-iframe").remove();$j("<iframe/>").attr("id","download-keystore-iframe").attr("src",c).hide().appendTo("body")};this.uploadKeystore=function(f){var d=this.RESOURCE_ENDPOINT+"/keystore";var c=new jive.conc.Promise();var e=$j("<form/>").attr("action",d).attr("method","POST").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data").append(f.inputs).append($j("<input/>").attr({type:"hidden",name:"jive.token.name",value:"admin.sso.saml.upload.keystore"})).hide().appendTo("body").ajaxForm({iframe:"true",dataType:"json",success:function(g){c.emitSuccess(g)}});jive.util.securedForm(e).addCallback(function(){e.submit()});return c}});
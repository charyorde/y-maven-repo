var WidgetBridges=$Class.extend({args:{},init:function(a){this.args=a},showRemoteWidgets:function(a){$j("#jive-widgets-list-container").hide();$j("#jive-widget-local").removeClass("jive-body-tabcurrent active");$j.each(this.args.bridgeIDs,function(b,c){$j("#jive-widgets-list-container_"+c).hide();$j("#jive-widget-bridge"+c).removeClass("jive-body-tabcurrent active");$j("#jive-bridge-loading_"+c).hide()});$j("#jive-widgets-list-container_"+a).show();$j("#jive-widget-bridge"+a).addClass("jive-body-tabcurrent active");this.loadRemoteWidgets(a)},bridgeLogin:function(b){var a=this;$j("#jive-bridges-login").hide();$j("#jive-bridge-loading_"+b).show();$j.ajax({url:this.args.bridgeLoginAction,type:"POST",data:$j("#bridge_login_"+b).serialize(),dataType:"html",success:function(c){$j("#jive-widgets-list-container_"+b).html(c);$j("#jive-bridge-loading_"+b).hide();a.makeDraggable($j("#jive-widgets-list-container_"+b+" .jive-widget-new"))}})},loadRemoteWidgets:function(c){var a=this;if($j("#jive-widgets-list-container_"+c+" .jive-widget-new").length>0){}else{$j("#jive-bridge-loading_"+c).show();var b={bridge:c};$j("#jive-widgets-list-container_"+c).load(this.args.bridgeAction,b,function(){$j("#jive-bridge-loading_"+c).hide();a.makeDraggable($j("#jive-widgets-list-container_"+c+" .jive-widget-new"))})}},bridgeLogout:function(b){$j("#jive-bridge-loading_"+b).show();var a={bridge:b};$j("#jive-widgets-list-container_"+b).load(this.args.bridgeLogoutAction,a,function(){$j("#jive-bridge-loading_"+b).hide()})},showWidgetsTabLocal:function(a){$j.each(this.args.bridgeIDs,function(c,d){$j("#jive-widgets-list-container_"+d).hide();$j("#jive-widget-bridge"+d).removeClass("jive-body-tabcurrent active");$j("#jive-bridge-loading_"+d).hide()});$j("#jive-widgets-list-container div[id^=jive-categories-list-container-]").hide();$j("#jive-widgets-list-container div[id^=jive-widcat-list-container-]").hide();$j("#jive-widgets-list-container").show();$j("#jive-categories-list-container-"+a).show();$j("#jive-widcat-list-container-"+a).show();$j("#jive-widgets-browser span[id^=jive-widget-local-]").removeClass("jive-body-tabcurrent active");$j("#jive-widget-local-"+a).addClass("jive-body-tabcurrent active");var b=$j("#jive-widgets-list-container");b.find(".jive-category-instructions").show();b.find(".jive-widget-instructions").fadeIn("fast");b.find(".jive-widcat-widgets").hide();b.find(".jive-widcat-widget").removeClass("selected");b.find(".jive-widget-new-container").hide();b.find(".jive-widget-category").removeClass("selected")},makeDraggable:function(a){a.draggable({helper:"clone",connectToSortable:".jive-widget-container",opacity:0.7,revert:"invalid",revertDuration:200,zIndex:8000,drag:function(){$j(".ui-draggable-dragging").addClass("jive-widget-new-dragging");$j(".ui-draggable-dragging .dragToAdd").hide();$j(".ui-draggable-dragging .widgetTitle").show()}})}});
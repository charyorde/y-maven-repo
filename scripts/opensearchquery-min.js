jive.OSQuery=function(a,c,b){this.searchTerm=a;this.searchingMessage=c;this.errorMessage=b};$j.extend(jive.OSQuery.prototype,{loadOpenSearchResults:function(a){$j("jive-search-opensearch-"+a+"-resultcount").html(this.searchingMessage);var b=this;OpenSearchQuery.getSearchResultsByEngineID(a,this.searchTerm,{callback:function(c){b.writeOSResults(c,a)},errorHandler:function(d,c){$j("#jive-search-opensearch-"+a).html('<div class="jive-search-results-opensearch"><span class="jive-opensearch-error">'+b.errorMessage+"</span></div>");$j("#jive-search-opensearch-"+a+"-resultcount").html(" ")}})},writeOSResults:function(e,a){var b=e.results;$j("#jive-search-opensearch-"+a+"-resultcount").html(" ("+e.totalItemCount+")");var f="jive-search-opensearch-"+a+"-list";dwr.util.removeAllOptions(f);var d=this;var c=function(g){return d.resultFormatter.call(d,g)};dwr.util.addOptions(f,b,c,{escapeHtml:false});if(e.moreAvailable){$j("#jive-search-opensearch-"+a+"-link").show()}},resultFormatter:function(a){return'<a href="'+a.resourceURL+'" target="_new" title="'+a.description+'"><span class="'+a.resourceIconCss+'"></span>'+a.title+"</a> <span>by: "+a.author+" created on: "+this.resultDateFormatter(a.publishedDate)+" last updated: "+this.resultDateFormatter(a.lastUpdatedDate)+"</span>"},resultDateFormatter:function(a){return(a)?(a.getMonth()+1)+"/"+a.getDate()+"/"+a.getFullYear():""}});